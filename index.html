<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ilija Eftimov ⚡️</title><meta name=keywords content><meta name=description content><meta name=author content="Ilija"><link rel=canonical href=https://ieftimov.com/><link href=/assets/css/stylesheet.min.css rel="preload stylesheet" as=style><link rel=icon href=https://ieftimov.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ieftimov.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ieftimov.com/favicon-32x32.png><link rel=apple-touch-icon href=https://ieftimov.com/apple-touch-icon.png><link rel=mask-icon href=https://ieftimov.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.81.0"><link rel=alternate type=application/rss+xml href=https://ieftimov.com/index.xml><link rel=alternate type=application/json href=https://ieftimov.com/index.json><script async defer data-domain=ieftimov.com src=https://plausible.io/js/plausible.js></script><meta property="og:title" content="Ilija Eftimov ⚡️"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://ieftimov.com/"><meta property="og:updated_time" content="2020-05-22T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ilija Eftimov ⚡️"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Ilija Eftimov ⚡️","url":"https://ieftimov.com/","description":"","thumbnailUrl":"https://ieftimov.com/favicon.ico","sameAs":["https://twitter.com/itsilija","https://github.com/fteem","https://www.linkedin.com/in/ieftimov","mailto:blog@ieftimov.com","/index.xml"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://ieftimov.com/ accesskey=h title="Ilija Eftimov ⚡️ (Alt + H)">Ilija Eftimov ⚡️</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://ieftimov.com/posts title=Archive><span>Archive</span></a></li><li><a href=https://ieftimov.com/about title=About><span>About</span></a></li><li><a href=https://ieftimov.com/newsletter title=Newsletter><span>Newsletter</span></a></li><li><a href=https://forms.gle/orfXK5jh1LRaiFzo8 title="Suggest a topic"><span>Suggest a topic</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hi, I&rsquo;m Ilija 👋</h1></header><section class=entry-content><p>Software engineer sharing learnings and realizations. Interested in platform engineering, cloud native technologies, distributed systems and DevOps.
Works at <a href=https://www.scribd.com>Scribd</a>.</p></section><footer class=entry-footer><div class=social-icons><a href=https://twitter.com/itsilija target=_blank rel="noopener noreferrer me" title=Twitter><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a><a href=https://github.com/fteem target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://www.linkedin.com/in/ieftimov target=_blank rel="noopener noreferrer me" title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a><a href=mailto:blog@ieftimov.com target=_blank rel="noopener noreferrer me" title=Email><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a><a href=/index.xml target=_blank rel="noopener noreferrer me" title=Rss><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2>Testing in Go: Stop Leaking Files</h2></header><section class=entry-content><p>No test suite is perfect. Some test suites are missing good helper functions; others are under-configured or over-customize. Some have obsolete packages included and are left unmaintained. Folks that have experience with more mature projects will likely agree that all of the above can be found in the wild.
Often, when we test our Go programs, need to create files. Such files can be just fixture files, or whole file trees, to set up the correct environment for the tests to run....</p></section><footer class=entry-footer>May 22, 2020&nbsp;·&nbsp;14 min&nbsp;·&nbsp;Ilija</footer><a class=entry-link aria-label="post link to Testing in Go: Stop Leaking Files" href=https://ieftimov.com/post/testing-in-go-stop-leaking-files/></a></article><article class=post-entry><header class=entry-header><h2>Four Steps to Daemonize Your Go Programs</h2></header><section class=entry-content><p>If you have ever worked with Ruby, or have maybe maintained a Rails application, I am sure the name Sidekiq will sound familiar. For those unfamiliar with the project, Sidekiq is a job system for Ruby. It is a wildly popular project, and the author has turned it into a successful business.
None of the above would be relevant if Sidekiq’s author Mike Perham, in 2014, did not write a concise and informative post titled “Don’t Daemonize your Daemons!...</p></section><footer class=entry-footer>May 2, 2020&nbsp;·&nbsp;16 min&nbsp;·&nbsp;Ilija</footer><a class=entry-link aria-label="post link to Four Steps to Daemonize Your Go Programs" href=https://ieftimov.com/post/four-steps-daemonize-your-golang-programs/></a></article><article class=post-entry><header class=entry-header><h2>Understanding bytes in Go by building a TCP protocol</h2></header><section class=entry-content><p>Some of my newsletter subscribers have asked me a few times what is the easiest way to think about byte slices, or using Go’s syntax: []byte. Folks that have experience with low-level languages, where working with bytes is widespread, usually do not have challenges comprehending what []byte means and how to use it.
But, if you come from a dynamic or a high-level language background, although everything we do ends up being a bunch of bytes, higher-level languages hide such details from us....</p></section><footer class=entry-footer>April 2, 2020&nbsp;·&nbsp;28 min&nbsp;·&nbsp;Ilija</footer><a class=entry-link aria-label="post link to Understanding bytes in Go by building a TCP protocol" href=https://ieftimov.com/post/understanding-bytes-golang-build-tcp-protocol/></a></article><article class=post-entry><header class=entry-header><h2>Testing in Go: WebSockets</h2></header><section class=entry-content><p>WebSockets offer duplex communication from a non-trusted source to a server that we own across a TCP socket connection. This means that, instead of continually polling the web server for updates and having to perform the whole TCP dance with each request, we can maintain a single TCP socket connection and then send and listen to messages on said connection.
In Go’s ecosystem there are few different implementations of the WebSocket protocol....</p></section><footer class=entry-footer>March 13, 2020&nbsp;·&nbsp;11 min&nbsp;·&nbsp;Ilija</footer><a class=entry-link aria-label="post link to Testing in Go: WebSockets" href=https://ieftimov.com/post/testing-in-go-websockets/></a></article><article class=post-entry><header class=entry-header><h2>Testing in Go: HTTP Servers</h2></header><section class=entry-content><p>Go’s a great hammer for a lot of nails, one of the areas where I find it fitting is building HTTP servers. The net/http package of Go’s standard library makes it easy to attach HTTP handlers to any Go program. What I find delightful is that Go’s standard library, also has packages that make testing HTTP servers as easy as building them.
Nowadays, it’s widely accepted that test coverage is important and useful....</p></section><footer class=entry-footer>March 2, 2020&nbsp;·&nbsp;11 min&nbsp;·&nbsp;Ilija</footer><a class=entry-link aria-label="post link to Testing in Go: HTTP Servers" href=https://ieftimov.com/post/testing-in-go-testing-http-servers/></a></article><article class=post-entry><header class=entry-header><h2>Testing in Go: Clean Tests Using t.Cleanup</h2></header><section class=entry-content><p>Go v1.14 ships with improvements across different aspects of the language. Two of them are brand new t.Cleanup, and b.Cleanup methods, added to the testing package.
The introduction of these methods will make it easier for our tests to clean up after themselves. This was always achievable through the careful composition of (sub)tests and helper functions, but since Go 1.14, the testing package will ship with one right way to do that....</p></section><footer class=entry-footer>February 18, 2020&nbsp;·&nbsp;11 min&nbsp;·&nbsp;Ilija</footer><a class=entry-link aria-label="post link to Testing in Go: Clean Tests Using t.Cleanup" href=https://ieftimov.com/post/testing-in-go-clean-tests-using-t-cleanup/></a></article><article class=post-entry><header class=entry-header><h2>Testing in Go: Golden Files</h2></header><section class=entry-content><p>Hardcoding the expected values in an assertion is a straightforward approach in testing. Most of the time, we know the expected output of the unit under test, so simply adding the raw value to the assertion works well.
Things can get tricky when we are testing a unit whose output is cumbersome to hardcode. The straightforward remedy is to extract this cumbersome value to a file that we can then read and compare the output of the unit under test to the output of the file....</p></section><footer class=entry-footer>February 2, 2020&nbsp;·&nbsp;16 min&nbsp;·&nbsp;Ilija</footer><a class=entry-link aria-label="post link to Testing in Go: Golden Files" href=https://ieftimov.com/post/testing-in-go-golden-files/></a></article><article class=post-entry><header class=entry-header><h2>Make resilient Go net/http servers using timeouts, deadlines and context cancellation</h2></header><section class=entry-content><p>When it comes to timeouts, there are two types of people: those who know how tricky they can be, and those who are yet to find out.
As tricky as they are, timeouts are a reality in the connected world we live in. As I am writing this, on the other side of the table, two persons are typing on their smartphones, probably chatting to people very far from them. All made possible because of networks....</p></section><footer class=entry-footer>January 5, 2020&nbsp;·&nbsp;15 min&nbsp;·&nbsp;Ilija</footer><a class=entry-link aria-label="post link to Make resilient Go net/http servers using timeouts, deadlines and context cancellation" href=https://ieftimov.com/post/make-resilient-golang-net-http-servers-using-timeouts-deadlines-context-cancellation/></a></article><article class=post-entry><header class=entry-header><h2>Testing in Go: Test Doubles by Example</h2></header><section class=entry-content><p>One of the biggest misconceptions is that doubles are a specific implementation of mocks or other testing constructs that we use in testing.
Dummies, mocks, stubs, fakes, and spies ARE test doubles. Test double is the category of these test constructs. Over the years, there has been some confusion around this concept.
It is my observation that this confusion arises from the naming of testing constructs that the popular testing frameworks use....</p></section><footer class=entry-footer>December 16, 2019&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Ilija</footer><a class=entry-link aria-label="post link to Testing in Go: Test Doubles by Example" href=https://ieftimov.com/post/testing-in-go-test-doubles-by-example/></a></article><article class=post-entry><header class=entry-header><h2>Testing in Go: Dependency Injection</h2></header><section class=entry-content><p>In software engineering, over the years folks have developed many patterns, techniques and refactoring maneuvers. Some have been long forgotten, while others have stood the test of times.
Such a long-standing technique is dependency injection. It is a concept and a programming technique where a construct is passed (injected) to another construct that depends on it.
In Golang, like in other languages, we use it to simplify our code and make it more testable....</p></section><footer class=entry-footer>December 1, 2019&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Ilija</footer><a class=entry-link aria-label="post link to Testing in Go: Dependency Injection" href=https://ieftimov.com/post/testing-in-go-dependency-injection/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://ieftimov.com/page/2/>Next Page »</a></nav></footer></main><footer class=footer><span>Copyright 2021 © Ilija Eftimov</span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>