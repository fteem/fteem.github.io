<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Packing multiple binaries in a Golang package - Ilija Eftimov</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="Ilija Eftimov" />
  <meta name="description" content="Recently, while writing a small Golang program for setting reminders I came across a small confusion that I guess most newcomers to Golang will have - how to organise a package in a way that will enable it to cleanly contain two or more binaries.
This post is not aimed at experienced Golang programmers, it&amp;rsquo;s mostly aimed at beginners to understand how to compose more complex packages, beyond making the usual &amp;ldquo;one package one binary&amp;rdquo; ones." />

  <meta name="keywords" content="Software, Programming, Computer Science, Products" />






<meta name="generator" content="Hugo 0.55.6" />


<link rel="canonical" href="https://ieftimov.com/post/golang-package-multiple-binaries/" />



<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.ec807d8b802a40889537c26e014f733206312ea440d42e1f0dabed80918de1ac.css" integrity="sha256-7IB9i4AqQIiVN8JuAU9zMgYxLqRA1C4fDavtgJGN4aw=" media="screen" crossorigin="anonymous">




<link rel="stylesheet" href="/css/overrides.css">

<link rel="stylesheet" href="/css/subscribe.css">


<meta property="og:title" content="Packing multiple binaries in a Golang package" />
<meta property="og:description" content="Recently, while writing a small Golang program for setting reminders I came across a small confusion that I guess most newcomers to Golang will have - how to organise a package in a way that will enable it to cleanly contain two or more binaries.
This post is not aimed at experienced Golang programmers, it&rsquo;s mostly aimed at beginners to understand how to compose more complex packages, beyond making the usual &ldquo;one package one binary&rdquo; ones." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ieftimov.com/post/golang-package-multiple-binaries/" />

<meta property="og:image" content="https://ieftimov.com/cards/golang-package-multiple-binaries.png" />
<meta property="article:published_time" content="2018-01-23T00:00:00&#43;00:00"/>


<meta itemprop="name" content="Packing multiple binaries in a Golang package">
<meta itemprop="description" content="Recently, while writing a small Golang program for setting reminders I came across a small confusion that I guess most newcomers to Golang will have - how to organise a package in a way that will enable it to cleanly contain two or more binaries.
This post is not aimed at experienced Golang programmers, it&rsquo;s mostly aimed at beginners to understand how to compose more complex packages, beyond making the usual &ldquo;one package one binary&rdquo; ones.">



<meta itemprop="wordCount" content="2726">

  <meta itemprop="image" content="https://ieftimov.com/cards/golang-package-multiple-binaries.png">



<meta itemprop="keywords" content="binaries,conventions," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://ieftimov.com/cards/golang-package-multiple-binaries.png"/>

<meta name="twitter:title" content="Packing multiple binaries in a Golang package"/>
<meta name="twitter:description" content="Recently, while writing a small Golang program for setting reminders I came across a small confusion that I guess most newcomers to Golang will have - how to organise a package in a way that will enable it to cleanly contain two or more binaries.
This post is not aimed at experienced Golang programmers, it&rsquo;s mostly aimed at beginners to understand how to compose more complex packages, beyond making the usual &ldquo;one package one binary&rdquo; ones."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-11264459-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Ilija Eftimov</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://ieftimov.com/">Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://ieftimov.com/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://ieftimov.com/about/">About</a>
          
        
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Ilija Eftimov
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://ieftimov.com/">Home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://ieftimov.com/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://ieftimov.com/about/">About</a>
          

        

      </li>
    
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Packing multiple binaries in a Golang package</h1>
      
      <div class="post-meta">
        <time datetime="2018-01-23" class="post-time">
          23-01-2018
        </time>
        <div class="post-category">
            <a href="https://ieftimov.com/categories/go/"> go </a>
            
          </div>
        

        
        

        
        
      </div>
    </header>

    
    

    
    <div class="post-content">
      

<p><img src="/golang-package-multiple-binaries/deliveries.png" alt="" /></p>

<p>Recently, while writing a small Golang program for setting reminders I came
across a small confusion that I guess most newcomers to Golang will have - how
to organise a package in a way that will enable it to cleanly contain two or
more binaries.</p>

<p>This post is not aimed at experienced Golang programmers, it&rsquo;s mostly aimed at
beginners to understand how to compose more complex packages, beyond making the
usual &ldquo;one package one binary&rdquo; ones. It&rsquo;s essentially what I would like to have
read (or understand) after spinning my wheels for a bit while building my first
(more complex) package.</p>

<p>But, if you are one of the experienced folks I would be very grateful if you
finish reading this article and call out any mistakes you might find. Also I,
and probably other beginners, would be happy to find out any other alternative
approaches to this problem.</p>

<p>That being said, let&rsquo;s begin by seeing what an elementary package layout looks
like, and then we can continue with building a more complex one.</p>

<h2 id="fortune-telling">Fortune telling</h2>

<p>Imagine we need to build a CLI program in Golang. One that needs to tell us
our fortune, or provide advice on a subject that we are thinking about. Just like
a <a href="https://en.wikipedia.org/wiki/Magic_8-Ball">Magic 8-Ball</a>.</p>

<p>Let&rsquo;s begin by fleshing out the <code>main</code> file of this package:</p>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// eight_ball.go
</span><span class="c1"></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;bufio&#34;</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;math/rand&#34;</span>
	<span class="s">&#34;os&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">rand</span><span class="p">.</span><span class="nf">Seed</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">Unix</span><span class="p">())</span>
	<span class="nx">reader</span> <span class="o">:=</span> <span class="nx">bufio</span><span class="p">.</span><span class="nf">NewReader</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stdin</span><span class="p">)</span>
	<span class="nx">answers</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
		<span class="s">&#34;It is certain&#34;</span><span class="p">,</span>
		<span class="s">&#34;It is decidedly so&#34;</span><span class="p">,</span>
		<span class="s">&#34;Without a doubt&#34;</span><span class="p">,</span>
		<span class="s">&#34;Yes, definitely&#34;</span><span class="p">,</span>
		<span class="s">&#34;You may rely on it&#34;</span><span class="p">,</span>
		<span class="s">&#34;As I see it, yes&#34;</span><span class="p">,</span>
		<span class="s">&#34;Most likely&#34;</span><span class="p">,</span>
		<span class="s">&#34;Outlook good&#34;</span><span class="p">,</span>
		<span class="s">&#34;Yes&#34;</span><span class="p">,</span>
		<span class="s">&#34;Signs point to yes&#34;</span><span class="p">,</span>
		<span class="s">&#34;Reply hazy try again&#34;</span><span class="p">,</span>
		<span class="s">&#34;Ask again later&#34;</span><span class="p">,</span>
		<span class="s">&#34;Better not tell you now&#34;</span><span class="p">,</span>
		<span class="s">&#34;Cannot predict now&#34;</span><span class="p">,</span>
		<span class="s">&#34;Concentrate and ask again&#34;</span><span class="p">,</span>
		<span class="s">&#34;Don&#39;t count on it&#34;</span><span class="p">,</span>
		<span class="s">&#34;My reply is no&#34;</span><span class="p">,</span>
		<span class="s">&#34;My sources say no&#34;</span><span class="p">,</span>
		<span class="s">&#34;Outlook not so good&#34;</span><span class="p">,</span>
		<span class="s">&#34;Very doubtful&#34;</span><span class="p">,</span>
	<span class="p">}</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Print</span><span class="p">(</span><span class="s">&#34;What is your question? &#34;</span><span class="p">)</span>
	<span class="nx">reader</span><span class="p">.</span><span class="nf">ReadString</span><span class="p">(</span><span class="sc">&#39;\n&#39;</span><span class="p">)</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">answers</span><span class="p">[</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">answers</span><span class="p">))])</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>

<p>The implementation is quite straightforward. We have a list of predefined
answers, blatantly ripped off from
<a href="https://en.wikipedia.org/wiki/Magic_8-Ball">Wikipedia&rsquo;s article on Magic 8-ball</a>. The
program takes the input from <code>STDIN</code>, ignores it (obviously) and with the help of
the <code>rand</code> package takes a random answer from the array, which is then printed
to <code>STDOUT</code>.</p>

<p>We can test this by running <code>go run eight_ball.go</code>:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› go run main.go
What is your question? Will I win the lottery this year?
My sources say no</code></pre></div>

<p>I guess I won&rsquo;t be getting rich by wining the lottery. Now, let&rsquo;s throw in
another program in our package. This one, following the same theme, can be about
fortune cookies.</p>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// cookie.go
</span><span class="c1"></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;math/rand&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">rand</span><span class="p">.</span><span class="nf">Seed</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">Unix</span><span class="p">())</span>
	<span class="nx">quotes</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
		<span class="s">&#34;The beginning of wisdom is to desire it.&#34;</span><span class="p">,</span>
		<span class="s">&#34;You will have a very pleasant experience.&#34;</span><span class="p">,</span>
		<span class="s">&#34;You will inherit some money or a small piece of land.&#34;</span><span class="p">,</span>
		<span class="s">&#34;You will live a long, happy life.&#34;</span><span class="p">,</span>
		<span class="s">&#34;You will spend old age in comfort and material wealth.&#34;</span><span class="p">,</span>
		<span class="s">&#34;You will step on the soil of many countries.&#34;</span><span class="p">,</span>
		<span class="s">&#34;You will take a chance in something in the near future.&#34;</span><span class="p">,</span>
		<span class="s">&#34;You will witness a special ceremony.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Your everlasting patience will be rewarded sooner or later.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Your great attention to detail is both a blessing and a curse.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Your heart is a place to draw true happiness.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Your ability to juggle many tasks will take you far.&#34;</span><span class="p">,</span>
		<span class="s">&#34;A friend asks only for your time, not your money.&#34;</span><span class="p">,</span>
		<span class="s">&#34;You will be invited to an exciting event.&#34;</span><span class="p">,</span>
	<span class="p">}</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">quotes</span><span class="p">[</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">quotes</span><span class="p">))])</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>

<p>If you are carefully reading the code, you can see the approach is basically the
same. We have a list of predefined quotes, and using the <code>math/rand</code> package
we print out a random quote when the program is executed.</p>

<p>If we run the program, we would get the following output:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› go run cookie.go
You will live a long, happy life.</code></pre></div>

<p>Nice and simple. The program works flawlessly.</p>

<p><img src="/golang-package-multiple-binaries/under_construction.png" alt="" /></p>

<h2 id="building-it">Building it</h2>

<p>So how can we build this now in a binary, and distrubite it
for different operating systems and architectures. It&rsquo;s really one of the things
that Go really shines for, right?</p>

<p>If you have done any Go you would immediately say: using <code>go build</code>. Let&rsquo;s give
that a shot:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› go build
<span class="c1"># github.com/fortune_telling</span>
./eight_ball.go6: main redeclared in this block
	previous declaration at ./cookie.go6</code></pre></div>

<p>Whoops, what happenned? Well, the error is quite self-descriptive. Basically we
have the <code>main</code> function defined in both of these files. But, on the other hand
if we rename those functions they will not be run when we create binaries out
of the programs. Let&rsquo;s try to rename the <code>main</code> function as <code>foo</code> in
<code>eight_ball.go</code>, and then try to run the program using <code>go run</code>:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› go run eight_ball.go
<span class="c1"># command-line-arguments</span>
runtime.main_main·f: relocation target main.main not defined
runtime.main_main·f: undefined: <span class="s2">&#34;main.main&#34;</span></code></pre></div>

<p>As you can see, then the binary cannot be built, since Go&rsquo;s compiler complains
about the missing <code>main</code> function. On the other hand, the missing <code>main</code>
function in <code>eight_ball.go</code> will actually make <code>go build</code> work.</p>

<p>Why is that? Well you see, in a package with a name <code>foo</code> there can only be one
<code>main</code> function. When the package is built, that <code>main</code> function will be the
entry point for the program (in the binary), so it&rsquo;s mandatory the package has it.
Since <code>eight_ball.go</code> is missing it, and <code>cookie.go</code> has it, the package <code>main</code>
will have a single <code>main</code> function (in <code>cookie.go</code>), rendering the <code>main</code> package
as valid.</p>

<script src="https://f.convertkit.com/ckjs/ck.5.js"></script>
      <form action="https://app.convertkit.com/forms/1137919/subscriptions" class="seva-form formkit-form" method="post" data-sv-form="1137919" data-uid="73e1f57c10" data-format="inline" data-version="5" data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;:&quot;message&quot;,&quot;success_message&quot;:&quot;Cool. Check email in 3...2...1...&quot;,&quot;redirect_url&quot;:&quot;&quot;},&quot;analytics&quot;:{&quot;google&quot;:null,&quot;facebook&quot;:null,&quot;segment&quot;:null,&quot;pinterest&quot;:null},&quot;custom_css&quot;:{&quot;css&quot;:null},&quot;incentive_email&quot;:{&quot;action&quot;:&quot;url&quot;,&quot;auto_confirm&quot;:false,&quot;button_text&quot;:&quot;Confirm your subscription&quot;,&quot;content_one&quot;:&quot;Thanks for signing up. Click the link below to confirm your subscription and you'll be on your way.&quot;,&quot;content_two&quot;:&quot;It's good to have you!&quot;,&quot;from_email_address_id&quot;:1421437,&quot;url&quot;:&quot;https://app.convertkit.com/confirm-subscription&quot;,&quot;send_email&quot;:false,&quot;subject&quot;:&quot;Important: confirm your subscription&quot;,&quot;upload_file_name&quot;:null,&quot;upload_key&quot;:null},&quot;modal&quot;:{&quot;trigger&quot;:null,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:null,&quot;devices&quot;:null,&quot;show_once_every&quot;:null},&quot;powered_by&quot;:{&quot;show&quot;:false,&quot;url&quot;:&quot;https://convertkit.com?utm_source=dynamic&amp;utm_medium=referral&amp;utm_campaign=poweredby&amp;utm_content=form&quot;},&quot;recaptcha&quot;:{&quot;enabled&quot;:false},&quot;return_visitor&quot;:{&quot;action&quot;:&quot;show&quot;,&quot;custom_content&quot;:null},&quot;slide_in&quot;:{&quot;display_in&quot;:null,&quot;trigger&quot;:null,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:null,&quot;devices&quot;:null,&quot;show_once_every&quot;:null},&quot;sticky_bar&quot;:{&quot;display_in&quot;:null,&quot;trigger&quot;:null,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:null,&quot;devices&quot;:null,&quot;show_once_every&quot;:null},&quot;thank_you_page&quot;:{&quot;enabled&quot;:false}},&quot;version&quot;:&quot;5&quot;}" min-width="400 500 600 700 800 900" style="background-color: rgb(249, 250, 251); border-radius: 4px;max-width:900px;"><div class="formkit-background" style="opacity: 0.2;"></div><div data-style="minimal"><div class="formkit-header" data-element="header" style="color: rgb(77, 77, 77); font-size: 27px; font-weight: 700;"><h1 style="margin-top:0;">In a hurry?</h1></div><div class="formkit-subheader" data-element="subheader" style="color: rgb(104, 104, 104); font-size: 18px;"><p>I've prepared a quick TL;DR PDF with a 4-step recipe to pack multiple binaries in a Golang module. Drop your e-mail address and get it now!</p></div><ul class="formkit-alert formkit-alert-error" data-element="errors" data-group="alert"></ul><div data-element="fields" data-stacked="false" class="seva-fields formkit-fields"><div class="formkit-field"><input class="formkit-input" name="email_address" placeholder="Your email address" required="" type="email" style="color: rgb(0, 0, 0); border-color: rgb(227, 227, 227); border-radius: 4px; font-weight: 400;"></div><button data-element="submit" class="formkit-submit formkit-submit" style="color: rgb(255, 255, 255); background-color: rgb(192, 91, 77); border-radius: 4px; font-weight: 400;"><div class="formkit-spinner"><div></div><div></div><div></div></div><span>Gimme!</span></button></div><div class="formkit-guarantee" data-element="guarantee" style="color: rgb(77, 77, 77); font-size: 13px; font-weight: 400;"><p>I HATE spam probably as much as you do.</p></div></div><style>.formkit-form[data-uid="73e1f57c10"] *{box-sizing:border-box;}.formkit-form[data-uid="73e1f57c10"]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.formkit-form[data-uid="73e1f57c10"] legend{border:none;font-size:inherit;margin-bottom:10px;padding:0;position:relative;display:table;}.formkit-form[data-uid="73e1f57c10"] fieldset{border:0;padding:0.01em 0 0 0;margin:0;min-width:0;}.formkit-form[data-uid="73e1f57c10"] body:not(:-moz-handler-blocked) fieldset{display:table-cell;}.formkit-form[data-uid="73e1f57c10"] h1,.formkit-form[data-uid="73e1f57c10"] h2,.formkit-form[data-uid="73e1f57c10"] h3,.formkit-form[data-uid="73e1f57c10"] h4,.formkit-form[data-uid="73e1f57c10"] h5,.formkit-form[data-uid="73e1f57c10"] h6{color:inherit;font-size:inherit;font-weight:inherit;}.formkit-form[data-uid="73e1f57c10"] p{color:inherit;font-size:inherit;font-weight:inherit;}.formkit-form[data-uid="73e1f57c10"] ol:not([template-default]),.formkit-form[data-uid="73e1f57c10"] ul:not([template-default]),.formkit-form[data-uid="73e1f57c10"] blockquote:not([template-default]){text-align:left;}.formkit-form[data-uid="73e1f57c10"] p:not([template-default]),.formkit-form[data-uid="73e1f57c10"] hr:not([template-default]),.formkit-form[data-uid="73e1f57c10"] blockquote:not([template-default]),.formkit-form[data-uid="73e1f57c10"] ol:not([template-default]),.formkit-form[data-uid="73e1f57c10"] ul:not([template-default]){color:inherit;font-style:initial;}.formkit-form[data-uid="73e1f57c10"][data-format="modal"]{display:none;}.formkit-form[data-uid="73e1f57c10"][data-format="slide in"]{display:none;}.formkit-form[data-uid="73e1f57c10"] .formkit-input,.formkit-form[data-uid="73e1f57c10"] .formkit-select,.formkit-form[data-uid="73e1f57c10"] .formkit-checkboxes{width:100%;}.formkit-form[data-uid="73e1f57c10"] .formkit-button,.formkit-form[data-uid="73e1f57c10"] .formkit-submit{border:0;border-radius:5px;color:#ffffff;cursor:pointer;display:inline-block;text-align:center;font-size:15px;font-weight:500;cursor:pointer;margin-bottom:15px;overflow:hidden;padding:0;position:relative;vertical-align:middle;}.formkit-form[data-uid="73e1f57c10"] .formkit-button:hover,.formkit-form[data-uid="73e1f57c10"] .formkit-submit:hover,.formkit-form[data-uid="73e1f57c10"] .formkit-button:focus,.formkit-form[data-uid="73e1f57c10"] .formkit-submit:focus{outline:none;}.formkit-form[data-uid="73e1f57c10"] .formkit-button:hover > span,.formkit-form[data-uid="73e1f57c10"] .formkit-submit:hover > span,.formkit-form[data-uid="73e1f57c10"] .formkit-button:focus > span,.formkit-form[data-uid="73e1f57c10"] .formkit-submit:focus > span{background-color:rgba(0,0,0,0.1);}.formkit-form[data-uid="73e1f57c10"] .formkit-button > span,.formkit-form[data-uid="73e1f57c10"] .formkit-submit > span{display:block;-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out;padding:12px 24px;}.formkit-form[data-uid="73e1f57c10"] .formkit-input{background:#ffffff;padding:12px;border:1px solid #e3e3e3;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;line-height:1.4;margin:0;-webkit-transition:border-color ease-out 300ms;transition:border-color ease-out 300ms;}.formkit-form[data-uid="73e1f57c10"] .formkit-input:focus{outline:none;border-color:#1677be;-webkit-transition:border-color ease 300ms;transition:border-color ease 300ms;}.formkit-form[data-uid="73e1f57c10"] .formkit-input::-webkit-input-placeholder{color:inherit;opacity:0.8;}.formkit-form[data-uid="73e1f57c10"] .formkit-input::-moz-placeholder{color:inherit;opacity:0.8;}.formkit-form[data-uid="73e1f57c10"] .formkit-input:-ms-input-placeholder{color:inherit;opacity:0.8;}.formkit-form[data-uid="73e1f57c10"] .formkit-input::placeholder{color:inherit;opacity:0.8;}.formkit-form[data-uid="73e1f57c10"] [data-group="dropdown"]{position:relative;display:inline-block;width:100%;}.formkit-form[data-uid="73e1f57c10"] [data-group="dropdown"]::before{content:"";top:calc(50% - 2.5px);right:10px;position:absolute;pointer-events:none;border-color:#4f4f4f transparent transparent transparent;border-style:solid;border-width:6px 6px 0 6px;height:0;width:0;z-index:999;}.formkit-form[data-uid="73e1f57c10"] [data-group="dropdown"] select{height:auto;width:100%;cursor:pointer;color:#333333;line-height:1.4;margin-bottom:0;padding:0 6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:15px;padding:12px;padding-right:25px;border:1px solid #e3e3e3;background:#ffffff;}.formkit-form[data-uid="73e1f57c10"] [data-group="dropdown"] select:focus{outline:none;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"]{text-align:left;margin:0;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"]{margin-bottom:10px;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"] *{cursor:pointer;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"]:last-of-type{margin-bottom:0;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]{display:none;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"] + label::after{content:none;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]:checked + label::after{border-color:#ffffff;content:"";}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]:checked + label::before{background:#10bf7a;border-color:#10bf7a;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"] label{position:relative;display:inline-block;padding-left:28px;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"] label::before,.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"] label::after{position:absolute;content:"";display:inline-block;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"] label::before{height:16px;width:16px;border:1px solid #e3e3e3;background:#ffffff;left:0px;top:3px;}.formkit-form[data-uid="73e1f57c10"] [data-group="checkboxes"] [data-group="checkbox"] label::after{height:4px;width:8px;border-left:2px solid #4d4d4d;border-bottom:2px solid #4d4d4d;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);left:4px;top:8px;}.formkit-form[data-uid="73e1f57c10"] .formkit-alert{background:#f9fafb;border:1px solid #e3e3e3;border-radius:5px;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;list-style:none;margin:25px auto;padding:12px;text-align:center;width:100%;}.formkit-form[data-uid="73e1f57c10"] .formkit-alert:empty{display:none;}.formkit-form[data-uid="73e1f57c10"] .formkit-alert-success{background:#d3fbeb;border-color:#10bf7a;color:#0c905c;}.formkit-form[data-uid="73e1f57c10"] .formkit-alert-error{background:#fde8e2;border-color:#f2643b;color:#ea4110;}.formkit-form[data-uid="73e1f57c10"] .formkit-spinner{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:0px;width:0px;margin:0 auto;position:absolute;top:0;left:0;right:0;width:0px;overflow:hidden;text-align:center;-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out;}.formkit-form[data-uid="73e1f57c10"] .formkit-spinner > div{margin:auto;width:12px;height:12px;background-color:#fff;opacity:0.3;border-radius:100%;display:inline-block;-webkit-animation:formkit-bouncedelay-formkit-form-data-uid-73e1f57c10- 1.4s infinite ease-in-out both;animation:formkit-bouncedelay-formkit-form-data-uid-73e1f57c10- 1.4s infinite ease-in-out both;}.formkit-form[data-uid="73e1f57c10"] .formkit-spinner > div:nth-child(1){-webkit-animation-delay:-0.32s;animation-delay:-0.32s;}.formkit-form[data-uid="73e1f57c10"] .formkit-spinner > div:nth-child(2){-webkit-animation-delay:-0.16s;animation-delay:-0.16s;}.formkit-form[data-uid="73e1f57c10"] .formkit-submit[data-active] .formkit-spinner{opacity:1;height:100%;width:50px;}.formkit-form[data-uid="73e1f57c10"] .formkit-submit[data-active] .formkit-spinner ~ span{opacity:0;}.formkit-form[data-uid="73e1f57c10"] .formkit-powered-by[data-active="false"]{opacity:0.35;}@-webkit-keyframes formkit-bouncedelay-formkit-form-data-uid-73e1f57c10-{0%,80%,100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}40%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}@keyframes formkit-bouncedelay-formkit-form-data-uid-73e1f57c10-{0%,80%,100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}40%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}.formkit-form[data-uid="73e1f57c10"] blockquote{padding:10px 20px;margin:0 0 20px;border-left:5px solid #e1e1e1;} .formkit-form[data-uid="73e1f57c10"]{border:1px solid #e3e3e3;max-width:700px;position:relative;overflow:hidden;}.formkit-form[data-uid="73e1f57c10"] .formkit-background{width:100%;height:100%;position:absolute;top:0;left:0;background-size:cover;background-position:center;opacity:0.3;z-index:1;}.formkit-form[data-uid="73e1f57c10"] [data-style="minimal"]{padding:20px;width:100%;z-index:2;position:relative;}.formkit-form[data-uid="73e1f57c10"] .formkit-header{margin:0 0 27px 0;text-align:center;}.formkit-form[data-uid="73e1f57c10"] .formkit-subheader{margin:18px 0;text-align:center;}.formkit-form[data-uid="73e1f57c10"] .formkit-guarantee{font-size:13px;margin:10px 0 15px 0;text-align:center;}.formkit-form[data-uid="73e1f57c10"] .formkit-guarantee > p{margin:0;}.formkit-form[data-uid="73e1f57c10"] .formkit-powered-by{color:#7d7d7d;display:block;font-size:12px;margin:10px 0 0 0;text-align:center;}.formkit-form[data-uid="73e1f57c10"] .formkit-fields{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:25px auto 0 auto;}.formkit-form[data-uid="73e1f57c10"] .formkit-field{min-width:220px;}.formkit-form[data-uid="73e1f57c10"] .formkit-field,.formkit-form[data-uid="73e1f57c10"] .formkit-submit{margin:0 0 15px 0;-webkit-flex:1 0 100%;-ms-flex:1 0 100%;flex:1 0 100%;}.formkit-form[data-uid="73e1f57c10"][min-width~="600"] [data-style="minimal"]{padding:40px;}.formkit-form[data-uid="73e1f57c10"][min-width~="600"] .formkit-fields[data-stacked="false"]{margin-left:-5px;margin-right:-5px;}.formkit-form[data-uid="73e1f57c10"][min-width~="600"] .formkit-fields[data-stacked="false"] .formkit-field,.formkit-form[data-uid="73e1f57c10"][min-width~="600"] .formkit-fields[data-stacked="false"] .formkit-submit{margin:0 5px 15px 5px;}.formkit-form[data-uid="73e1f57c10"][min-width~="600"] .formkit-fields[data-stacked="false"] .formkit-field{-webkit-flex:100 1 auto;-ms-flex:100 1 auto;flex:100 1 auto;}.formkit-form[data-uid="73e1f57c10"][min-width~="600"] .formkit-fields[data-stacked="false"] .formkit-submit{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;} </style></form>



<h2 id="split-the-packages">Split the packages</h2>

<p>Okay, so by now hopefully it&rsquo;s clear that we cannot have two binaries with two
entry points in a single package. So, why don&rsquo;t we split the files in two packages.
For example, <code>cookie.go</code> can have a <code>cookie</code> package, while <code>eight_ball.go</code> can
have an <code>eight_ball</code> package. Both of them will have a <code>main</code> function and
everything should work smoothly, right?</p>

<p>Let&rsquo;s do that and give it a shot. First, let&rsquo;s rename the packages in the
<code>cookie.go</code> and <code>eight_ball.go</code> files respectively:</p>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// cookie.go
</span><span class="c1"></span><span class="kn">package</span> <span class="nx">cookie</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;math/rand&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// Snipped
</span><span class="c1"></span><span class="p">}</span></code></pre></td></tr></table>
</div>
</div>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// eight_ball.go
</span><span class="c1"></span><span class="kn">package</span> <span class="nx">eight_ball</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;bufio&#34;</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;math/rand&#34;</span>
	<span class="s">&#34;os&#34;</span>
	<span class="s">&#34;time&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// Snipped
</span><span class="c1"></span><span class="p">}</span></code></pre></td></tr></table>
</div>
</div>

<p>Let&rsquo;s try to build these packages now:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› go build cookie.go</code></pre></div>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› go build eight_ball.go</code></pre></div>

<p>Okay, cool. We ran <code>go build</code> on the files and there were no problems. That means
that Go produced the binaries for each of these files and we could run them.</p>

<p>Nope. It didn&rsquo;t.</p>

<p>If we see <a href="https://golang.org/cmd/go/#hdr-Compile_packages_and_dependencies">Go&rsquo;s documentation</a>
on the <code>go build</code> command, we will find this segment:</p>

<blockquote>
<p>When compiling a single main package, build writes the resulting executable to
an output file named after the first source file (&lsquo;go build ed.go rx.go&rsquo; writes
&lsquo;ed&rsquo; or &lsquo;ed.exe&rsquo;) or the source code directory (&lsquo;go build unix/sam&rsquo; writes &lsquo;sam&rsquo;
or &lsquo;sam.exe&rsquo;). The &lsquo;.exe&rsquo; suffix is added when writing a Windows executable.</p>
</blockquote>

<p>Also, this:</p>

<blockquote>
<p>When compiling multiple packages or a single non-main package, build compiles
the packages but discards the resulting object, serving only as a check that
the packages can be built.</p>
</blockquote>

<p>This means that, to produce a binary of a package, whose name will be derived
from the folder name it is stored in, we need to build a <code>main</code> package. That
means that our <code>cookie.go</code> and <code>eight_ball.go</code> files will have to be contained
in their own folders, while their package names have to stay <code>main</code>.</p>

<h2 id="reorganizing-our-files">Reorganizing our files</h2>

<p>What we need to do is quite simple actually. In our working directory let&rsquo;s
introduce a folder called <code>cmd</code>, which will store both of our commands.</p>

<p>Let&rsquo;s run the following commands:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› mkdir -p cmd/<span class="o">{</span>cookie,eight_ball<span class="o">}</span>/

› mv cookie.go cmd/cookie/main.go

› mv eight_ball.go cmd/eight_ball/main.go</code></pre></div>

<p>If we run <code>tree</code> on our working directory, we will see the following structure:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› tree
.
└── cmd
    ├── cookie
    │   └── main.go
    └── eight_ball
        └── main.go</code></pre></div>

<p>If we try to build the packages now we won&rsquo;t get far as well:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› go build
can<span class="err">&#39;</span>t load package: package github.com/fortune_teller: no Go files in /Users/ie/projects/go/src/github.com/fortune_teller</code></pre></div>

<p>But, the restructuring of the packages allows us to now use the <code>go install ./...</code>
command, which will install our packages in our <code>$GOPATH/bin</code> directory:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› go install ./...

› cookie
A thrilling <span class="nb">time</span> is in your immediate future.

› eight_ball
What is your question? Will I win the lottery this year?
Don<span class="err">&#39;</span>t count on it</code></pre></div>

<p>Whoa, so, what happenned? How did these programs just got installed?</p>

<p>What happenned is the following - since we moved the programs to their own
subfolders in our workspace, when built (and installed) they will inherit the
name of the folder they are in. Therefore, <code>cmd/cookie/main.go</code> will compile
into a <code>cookie</code> binary, while <code>cmd/eight_ball/main.go</code> will compile into a
<code>eight_ball</code> binary. Then, after buildilng, these binaries will be installed
into the Go binaries path (<code>$GOPATH/bin</code>).</p>

<p>If you would like to build the binaries for each of the two packages, without
installing them to <code>$GOPATH/bin</code>, then you will need to <code>cd</code> in to the paths
where the <code>main.go</code> files are, and run <code>go build</code> there:</p>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› <span class="nb">cd</span> cmd/cookie

› go build

› ./cookie
Your greatest fortune is the large number of friends you have.</code></pre></div>

<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">› <span class="nb">cd</span> fortune_teller/cmd/eight_ball

› go build

› ./eight_ball
What is your question? Will I win the lottery?
Yes, definitely</code></pre></div>

<p><img src="/golang-package-multiple-binaries/inspection.png" alt="" /></p>

<h2 id="what-if-i-want-a-library-as-part-of-the-package">What if I want a library as part of the package?</h2>

<p>This question makes sense - what if with the package one wants to ship some
additional code. Or even better, what if you would like to <code>import</code> code from
the package in the CLI programs?</p>

<p>Let&rsquo;s extract the <code>answers</code> and <code>quotes</code> variables from the CLI programs into a
new package, and try to import that one back in:</p>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// content.go
</span><span class="c1"></span><span class="kn">package</span> <span class="nx">fortune_teller</span>

<span class="kd">func</span> <span class="nf">Answers</span><span class="p">()</span> <span class="p">[]</span><span class="kt">string</span> <span class="p">{</span>
	<span class="k">return</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
		<span class="s">&#34;It is certain&#34;</span><span class="p">,</span>
		<span class="s">&#34;It is decidedly so&#34;</span><span class="p">,</span>
		<span class="s">&#34;Without a doubt&#34;</span><span class="p">,</span>
		<span class="s">&#34;Yes, definitely&#34;</span><span class="p">,</span>
		<span class="s">&#34;You may rely on it&#34;</span><span class="p">,</span>
		<span class="s">&#34;As I see it, yes&#34;</span><span class="p">,</span>
		<span class="s">&#34;Most likely&#34;</span><span class="p">,</span>
		<span class="s">&#34;Outlook good&#34;</span><span class="p">,</span>
		<span class="s">&#34;Yes&#34;</span><span class="p">,</span>
		<span class="s">&#34;Signs point to yes&#34;</span><span class="p">,</span>
		<span class="s">&#34;Reply hazy try again&#34;</span><span class="p">,</span>
		<span class="s">&#34;Ask again later&#34;</span><span class="p">,</span>
		<span class="s">&#34;Better not tell you now&#34;</span><span class="p">,</span>
		<span class="s">&#34;Cannot predict now&#34;</span><span class="p">,</span>
		<span class="s">&#34;Concentrate and ask again&#34;</span><span class="p">,</span>
		<span class="s">&#34;Don&#39;t count on it&#34;</span><span class="p">,</span>
		<span class="s">&#34;My reply is no&#34;</span><span class="p">,</span>
		<span class="s">&#34;My sources say no&#34;</span><span class="p">,</span>
		<span class="s">&#34;Outlook not so good&#34;</span><span class="p">,</span>
		<span class="s">&#34;Very doubtful&#34;</span><span class="p">,</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">Quotes</span><span class="p">()</span> <span class="p">[]</span><span class="kt">string</span> <span class="p">{</span>
	<span class="k">return</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
		<span class="s">&#34;There is a true and sincere friendship between you and your friends.&#34;</span><span class="p">,</span>
		<span class="s">&#34;You find beauty in ordinary things, do not lose this ability.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Ideas are like children; there are none so wonderful as your own.&#34;</span><span class="p">,</span>
		<span class="s">&#34;It takes more than good memory to have good memories.&#34;</span><span class="p">,</span>
		<span class="s">&#34;A thrilling time is in your immediate future.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Your blessing is no more than being safe and sound for the whole lifetime.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Plan for many pleasures ahead.&#34;</span><span class="p">,</span>
		<span class="s">&#34;The joyfulness of a man prolongeth his days.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Your everlasting patience will be rewarded sooner or later.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Make two grins grow where there was only a grouch before.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Something you lost will soon turn up.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Your heart is pure, and your mind clear, and your soul devout.&#34;</span><span class="p">,</span>
		<span class="s">&#34;Excitement and intrigue follow you closely wherever you go!&#34;</span><span class="p">,</span>
		<span class="s">&#34;A pleasant surprise is in store for you.&#34;</span><span class="p">,</span>
		<span class="s">&#34;May life throw you a pleasant curve.&#34;</span><span class="p">,</span>
		<span class="s">&#34;As the purse is emptied the heart is filled.&#34;</span><span class="p">,</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>

<p>After extracting these two functions in a top level package, which will return
the content for the two commands, we can <code>import</code> the package in the <code>cookie</code>
and <code>eight_ball</code> commands, which will utilise the content. By being able to
extract code in a common package, it allows us to easily reuse any
of the shared code between multiple commands.</p>

<p>For example, if we had a database driver that would write to a database
(i.e. <code>sqlite</code>), we could easily <code>import</code> this driver in both <code>cookie</code> and
<code>eight_ball</code> and use the code within the context of the program.</p>

<p>Let&rsquo;s modify now the CLI programs to <code>import</code> the top-level package:</p>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// cmd/cookie/main.go
</span><span class="c1"></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;math/rand&#34;</span>
	<span class="s">&#34;time&#34;</span>

	<span class="nx">ft</span> <span class="s">&#34;github.com/fteem/fortune_teller&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">rand</span><span class="p">.</span><span class="nf">Seed</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">Unix</span><span class="p">())</span>
	<span class="nx">quotes</span> <span class="o">:=</span> <span class="nx">ft</span><span class="p">.</span><span class="nf">Quotes</span><span class="p">()</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">quotes</span><span class="p">[</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">quotes</span><span class="p">))])</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="c1">// cmd/eight_ball/main.go
</span><span class="c1"></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;bufio&#34;</span>
	<span class="s">&#34;fmt&#34;</span>
	<span class="s">&#34;math/rand&#34;</span>
	<span class="s">&#34;os&#34;</span>
	<span class="s">&#34;time&#34;</span>

	<span class="nx">ft</span> <span class="s">&#34;github.com/fteem/fortune_teller&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">rand</span><span class="p">.</span><span class="nf">Seed</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">().</span><span class="nf">Unix</span><span class="p">())</span>
	<span class="nx">reader</span> <span class="o">:=</span> <span class="nx">bufio</span><span class="p">.</span><span class="nf">NewReader</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stdin</span><span class="p">)</span>
	<span class="nx">answers</span> <span class="o">:=</span> <span class="nx">ft</span><span class="p">.</span><span class="nf">Answers</span><span class="p">()</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Print</span><span class="p">(</span><span class="s">&#34;What is your question? &#34;</span><span class="p">)</span>
	<span class="nx">reader</span><span class="p">.</span><span class="nf">ReadString</span><span class="p">(</span><span class="sc">&#39;\n&#39;</span><span class="p">)</span>

	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">answers</span><span class="p">[</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">answers</span><span class="p">))])</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>

<p>It&rsquo;s as simple as that. Here we purposely alias the package to <code>ft</code>, so we don&rsquo;t
have to type <code>fortune_teller</code> every time we want to invoke these functions. To
test the commands manually, the simplest way is to install them using
<code>go install ./...</code>, which will install all of the packages that can be found in
the path (and all of it&rsquo;s subpaths).</p>

<h2 id="it-works">It works!</h2>

<p>After trying this approach out, I noticed that some other popular packages use
a similar structure of building packages. For example, you can see that <code>BoltDB</code>
<a href="https://github.com/boltdb/bolt">places</a> it&rsquo;s command line program
in a <code>cmd/bolt</code> path. So does <a href="https://github.com/gobuffalo/packr">packr</a>, and
other various libraries that I have noticed. So, I would safely assume that
this pattern of organising your packages is clean and safe to use.</p>

<p>Since you got to the end, I will assume that you would like some more reading
resources around building and installing packages, and file structure organisation.
I recommend you continue your journey in Go with the following links:</p>

<ul>
<li><a href="https://golang.org/doc/code.html">How to Write Go Code</a></li>
<li><a href="https://golang.org/cmd/go/#hdr-Compile_packages_and_dependencies">Command go - Compile packages and dependencies</a></li>
<li><a href="https://medium.com/@benbjohnson/structuring-applications-in-go-3b04be4ff091">Structuring Applications in Go</a> - I think this is probably the origin of the structural pattern used in this article</li>
</ul>

<p>If you would like to see the code used in this article, you can get it
<a href="https://github.com/fteem/fortune_teller">from my Github</a>.</p>








<div id="mc_embed_signup">
<form action="https://pm.us20.list-manage.com/subscribe/post?u=d9a6471309140dcd520d05346&amp;id=2aac491644" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
        <div class="heading">Join The Newsletter</div>
        <p>
            I write about backend technologies, programming and cloud architectures. Join hundreds of other developers that get my content, twice a month. Unsubscribe whenever. Never any spam, ads, or affiliate links.
        </p>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Your email address" required>
        <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">

      
      <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d9a6471309140dcd520d05346_2aac491644" tabindex="-1" value=""></div>

    <p>You can also subscribe <a href="https://ieftimov.com/index.xml">via RSS</a>.</p>
    </div>
</form>
</div>




<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:1585609,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>


    </div>

    
    


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://ieftimov.com/tags/binaries/">binaries</a>
          <a href="https://ieftimov.com/tags/conventions/">conventions</a>
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/create-manage-macos-launchd-agents-golang/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">Create and manage MacOS LaunchAgents using Go</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
          <a class="next" href="/post/understand-how-why-add-idempotent-requests-api/">
            <span class="next-text nav-default">Understanding why and how to add idempotent requests to your APIs</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  <div class="disqus-comment">
  <div class="disqus-button" id="load_disqus" onclick="load_disqus()">
    Show Disqus Comments
  </div>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = "https://ieftimov.com/post/golang-package-multiple-binaries/";
    };
    function load_disqus() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'eftimov';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

      $('#load_disqus').remove();
    };
  </script>
  <noscript>Please enable JavaScript to view the
    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>
  
  </div>

    

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="https://stackoverflow.com/users/601555/ilija-eftimov" rel="me noopener" class="iconfont"
      title="stack-overflow"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M809.714286 932.571429l-638.857143 0 0-274.285714-91.428571 0 0 365.714286 821.714286 0 0-365.714286-91.428571 0 0 274.285714zm-538.285714-299.428571l18.857143-89.714286 447.428571 94.285714-18.857143 89.142857zm58.857143-213.714286l38.285714-83.428571 414.285714 193.714286-38.285714 82.857143zm114.857143-203.428571l58.285714-70.285714 350.857143 293.142857-58.285714 70.285714zm226.857143-216l272.571429 366.285714-73.142857 54.857143-272.571429-366.285714zm-410.285714 840.571429l0-90.857143 457.142857 0 0 90.857143-457.142857 0z"></path>
</svg>

    </a>
  
    <a href="https://twitter.com/fteem" rel="me noopener" class="iconfont"
      title="twitter"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1264 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

    </a>
  
    <a href="https://www.linkedin.com/in/ieftimov/" rel="me noopener" class="iconfont"
      title="linkedin"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="33" height="33">
  <path d="M872.405333 872.618667h-151.637333v-237.610667c0-56.661333-1.152-129.578667-79.018667-129.578667-79.061333 0-91.136 61.653333-91.136 125.397334v241.792H398.976V384h145.664v66.602667h1.962667c20.352-38.4 69.845333-78.933333 143.786666-78.933334 153.642667 0 182.058667 101.12 182.058667 232.746667v268.202667zM227.712 317.141333a87.978667 87.978667 0 0 1-88.021333-88.106666 88.064 88.064 0 1 1 88.021333 88.106666z m76.032 555.477334H151.68V384h152.064v488.618667zM948.266667 0H75.562667C33.792 0 0 33.024 0 73.770667v876.458666C0 991.018667 33.792 1024 75.562667 1024h872.576C989.866667 1024 1024 991.018667 1024 950.229333V73.770667C1024 33.024 989.866667 0 948.138667 0h0.128z"></path>
</svg>

    </a>
  
    <a href="https://github.com/fteem" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>
  
    <a href="blog@ieftimov.com" rel="me noopener" class="iconfont"
      title="email"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>


<a href="https://ieftimov.com/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2014 -
    2019
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        Ilija Eftimov
        
      </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js" integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin="anonymous"></script>






  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  













</body>
</html>
