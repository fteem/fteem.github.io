<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Rails, Secure Cookies, HSTS and friends - Ilija Eftimov</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Rails, Secure Cookies, HSTS and friends" />
<meta property="og:description" content="Ruby on Rails as a framework does a lot of things for us developers. We get a very customizable middleware stack, great routing system, very expressive ORM, helpful modules with great utility methods in them and so on. But in Rails there&#39;s more than meets the eye. It does some great things that we just take for granted or on occasions we don&#39;t even know they exist.
Some of these features are TLS redirection, secure cookies and HTTP Strict Transport Security (HSTS)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ieftimov.com/post/rails-tls-hsts-cookies/" />
<meta property="article:published_time" content="2015-12-14T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Rails, Secure Cookies, HSTS and friends"/>
<meta name="twitter:description" content="Ruby on Rails as a framework does a lot of things for us developers. We get a very customizable middleware stack, great routing system, very expressive ORM, helpful modules with great utility methods in them and so on. But in Rails there&#39;s more than meets the eye. It does some great things that we just take for granted or on occasions we don&#39;t even know they exist.
Some of these features are TLS redirection, secure cookies and HTTP Strict Transport Security (HSTS)."/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="https://ieftimov.com/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://ieftimov.com/css/main.css" />
		<link rel="stylesheet" type="text/css" href="https://ieftimov.com/css/overrides.css" />
	

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
		<script src="https://ieftimov.com/js/main.js"></script><script src="https://ieftimov.com/js/tooltip.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
		<div class="avatar">
			<a href="https://ieftimov.com/">
				<img src="https://pbs.twimg.com/profile_images/1194757753585225728/JbET17PZ_400x400.jpg" alt="Ilija Eftimov" />
			</a>
		</div>
	
	<h1 class="site-title"><a href="https://ieftimov.com/">Ilija Eftimov</a></h1>
	<div class="site-description"><p>Software engineer, author and open source contributor</p><nav class="nav social">
			<ul class="flat"><li><a href="https://github.com/fteem" title="Github"><i data-feather="github"></i></a></li><li><a href="https://twitter.com/fteem" title="Twitter"><i data-feather="twitter"></i></a></li><li><a href="https://www.linkedin.com/in/ieftimov" title="Linkedin"><i data-feather="linkedin"></i></a></li><li><a href="mailto:blog@ieftimov.com" title="Email"><i data-feather="mail"></i></a></li></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/categories/testing-in-go">Testing in Go</a>
			</li>
			
			<li>
				<a href="/posts">Archive</a>
			</li>
			
			<li>
				<a href="/about">About</a>
			</li>
			
			<li>
				<a href="https://forms.gle/orfXK5jh1LRaiFzo8">Suggest a topic</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">14</span>
							<span class="rest">Dec 2015</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">Rails, Secure Cookies, HSTS and friends</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>Ruby on Rails as a framework does a lot of things for us developers. We get a
very customizable middleware stack, great routing system, very expressive ORM,
helpful modules with great utility methods in them and so on. But in Rails
there's more than meets the eye. It does some great things that we just take
for granted or on occasions we don't even know they exist.</p>
<p>Some of these features are TLS redirection, secure cookies and HTTP Strict
Transport Security (HSTS). Let's dive in into the Rails middleware stack and
see what these things mean and what benefits they provide.</p>
<h2 id="http-strict-transport-security">HTTP Strict Transport Security</h2>
<p>According to <a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security">Wikipedia</a>:</p>
<blockquote>
<p>HTTP Strict Transport Security (HSTS) is a web security policy mechanism which
helps to protect secure HTTPS websites against downgrade attacks and cookie
hijacking. It allows web servers to declare that web browsers (or other
complying user agents) should only interact with it using secure HTTPS
connections and never via the insecure HTTP protocol. HSTS is an IETF
standards track protocol and is specified in
<a href="https://tools.ietf.org/html/rfc6797">RFC 6797</a>.</p>
<p>The HSTS Policy is communicated by the server to the user agent via an HTTP
response header field named &ldquo;Strict-Transport-Security&rdquo;. HSTS Policy specifies
a period of time during which the user agent shall access the server in a
secure-only fashion.</p>
</blockquote>
<p>This is a short and nice summary of HSTS. The Internet Engineering Task Force
(IETF) have solved the problem by making web servers send a HTTP response
header which will make the browsers use HTTPS over HTTP when requesting any of
the resources on that particular web server.</p>
<p>If you take a deeper look, into the
<a href="https://tools.ietf.org/html/rfc6797">Request for Comments (RFC) No. 6797</a> where
HSTS was proposed, you will see this:</p>
<blockquote>
<p><strong>2.3.  Threat Model</strong></p>
<p>HSTS is concerned with three threat classes: passive network
attackers, active network attackers, and <strong>imperfect web developers</strong>.
However, it is explicitly not a remedy for two other classes of
threats: phishing and malware.  Threats that are addressed, as well
as threats that are not addressed, are briefly discussed below.</p>
</blockquote>
<p>It's a good thing that the IETF and the Rails core developers know that we are
<em>imperfect</em> (read: lazy), so they have our backs. *wink emoji*</p>
<p>Since we got the basics right, let's look at the structure of the HSTS header:</p>
<p><code>Strict-Transport-Security: max-age=31536000; includeSubdomains; preload</code></p>
<p>It is composed of three directives: <code>max-age</code>, <code>includeSubdomains</code> and <code>preload</code>.
The <code>max-age</code> directive tells the browser that this is the duration of time for
which HSTS will be active for the domain. The <code>includeSubdomains</code> directive is
quite self-explanatory: it tells the browser that HSTS will be active for all
subdomains. The last one, <code>preload</code>, is created by the Chrome security team.
It's purpose is to create a list of domains that will be <strong>preloaded</strong> to
Chrome, so Chrome knows that HSTS will be preloaded for the given domain. Later,
this preloading mechanism got incorporated to Firefox, Safari and Internet
Explorer. This allows HSTS to kick in even for the first visit of the website.</p>
<h2 id="secure-cookies">Secure cookies</h2>
<p>Cookies, the ones that browsers consume, have multiple values and flags on them.
Here's a screenshot of someone's cookies as shown in the Chrome Developer Tools:</p>
<p><img src="http://i.imgur.com/7GEcADR.jpg" alt="Cookies"></p>
<p>As you can see in the screenshot, a cookie has a name, a value, the domain (or
owner), the path, expiry date/time, it's size, the HttpOnly flag, the <strong>Secure</strong>
flag and the First-Party field. For the purpose of this article, we are only
interested in the Secure flag.</p>
<p>The secure flag tells the browser that it can send this cookie to the owner
<strong>only via HTTPS</strong>. This protects the user when under a Man in the middle (MITM)
attack. Basically, if someone steals the session cookie from the user, it will
always be encrypted with SSL/TLS so it will be unusable for the attacker.</p>
<h2 id="ssltls-redirection">SSL/TLS Redirection</h2>
<p>In comparison to HSTS and Secure Cookies this is a really simple security
mechanism. Rails has the ability to redirect clients accessing it from HTTP to
HTTPS. Think of it in this way - if the proper configuration is set, it will
check if the request comes via HTTPS. If not, it redirects the client to the
same URL, just via HTTPS. Simple as that.</p>
<h2 id="back-to-rails">Back to Rails</h2>
<p>Now, how does Rails implement these mechanisms? Think about this: when we are
fetching/building the data for the response, whether it's XML, JSON or HTML, we
rarely do anything with the response headers. We usually render some
document/data and we let Rails take care of the rest. So, there has to be some
configuration where we can turn on TLS redirection, secure cookies and HSTS.</p>
<p>Rails configuration can be found in multiple places. If it's configuration
per environment, it's usually <code>config/&lt;environment&gt;.rb</code>. If it's general
configuration - <code>config/application.rb</code>. Other times, it can be in
<code>config/initializers</code>. It very much depends on what part of the application you
want to configure.</p>
<p>By default Rails has some configurations set up for us. For example, when a
brand new Rails application is generated, in the <code>config/production.rb</code> file you
can see the following lines:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#998;font-style:italic"># Force all access to the app over SSL, use Strict-Transport-Security,</span>
<span style="color:#998;font-style:italic"># and use secure cookies.</span>
config<span style="font-weight:bold">.</span>force_ssl <span style="font-weight:bold">=</span> <span style="font-weight:bold">true</span></code></pre></div>
<p>As you can notice in the comment, this is the line that enables all these
security mechanisms. Quite self-descriptive, the attribute is called <code>force_ssl</code>.
For production environment, this is set to <code>true</code> by default. Let's see how this
actually works under the hood.</p>
<h3 id="where-does-it-do-it">Where does it do it?</h3>
<p>Searching through the Rails source code, starting from the
<a href="https://github.com/rails/rails/blob/b11bca98bf5431ce9522c6b5707f51cd8d7f401c/railties/lib/rails/application/configuration.rb#L35"><code>Rails::Application::Configuration</code></a>
where I noticed that the <code>force_ssl</code> configuration is set to <code>false</code> by
default.  But, this was a dead end - it was only the Rails configuration
object, nothing else.</p>
<p>Searching on for the <code>force_ssl</code> property, I ran into
<code>Rails::Application::DefaultMiddlewareStack</code>
(<a href="https://github.com/rails/rails/blob/b11bca98bf5431ce9522c6b5707f51cd8d7f401c/railties/lib/rails/application/default_middleware_stack.rb#L14">source</a>).
In the <code>#build_stack</code> method I noticed that when Rails is booting up, it
decides if the <code>Rails::Application::ActionDispatch::SSL</code> middleware should be
pushed onto the middleware stack. This was the obvious place to look, so let's
open that class.</p>
<h2 id="enforcing-tlsssl-and-hsts">Enforcing TLS/SSL and HSTS</h2>
<p>In the <code>Rails::Application::ActionDispatch::SSL</code> there's the <code>build_hsts_header</code>
method:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold"></span><span style="font-weight:bold"></span><span style="color:#900;font-weight:bold">build_hsts_header</span>(hsts)
  value <span style="font-weight:bold">=</span> <span style="color:#b84">&#34;</span><span style="color:#b84">max-age=</span><span style="color:#b84">#{</span>hsts<span style="font-weight:bold">[</span><span style="color:#b84">:expires</span><span style="font-weight:bold">]</span><span style="font-weight:bold">.</span>to_i<span style="color:#b84">}</span><span style="color:#b84">&#34;</span>
  value <span style="font-weight:bold">&lt;&lt;</span> <span style="color:#b84">&#34;</span><span style="color:#b84">; includeSubDomains</span><span style="color:#b84">&#34;</span> <span style="font-weight:bold">if</span> hsts<span style="font-weight:bold">[</span><span style="color:#b84">:subdomains</span><span style="font-weight:bold">]</span>
  value <span style="font-weight:bold">&lt;&lt;</span> <span style="color:#b84">&#34;</span><span style="color:#b84">; preload</span><span style="color:#b84">&#34;</span> <span style="font-weight:bold">if</span> hsts<span style="font-weight:bold">[</span><span style="color:#b84">:preload</span><span style="font-weight:bold">]</span>
  value
<span style="font-weight:bold">end</span></code></pre></div>
<p>It is being called from the <code>#initialize</code> method, which is where an object from
the middleware class is created:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold"></span><span style="font-weight:bold"></span><span style="color:#900;font-weight:bold">initialize</span>(app, <span style="color:#b84">redirect</span>: {}, <span style="color:#b84">hsts</span>: {}, <span style="font-weight:bold">**</span>options)
  @app <span style="font-weight:bold">=</span> app

  <span style="font-weight:bold">if</span> options<span style="font-weight:bold">[</span><span style="color:#b84">:host</span><span style="font-weight:bold">]</span> <span style="font-weight:bold">||</span> options<span style="font-weight:bold">[</span><span style="color:#b84">:port</span><span style="font-weight:bold">]</span>
    <span style="color:#008080">ActiveSupport</span><span style="font-weight:bold">::</span><span style="color:#008080">Deprecation</span><span style="font-weight:bold">.</span>warn <span style="color:#b84">&lt;&lt;-end_warning.strip_heredoc
</span><span style="color:#b84"></span>    <span style="color:#008080">The</span> <span style="color:#b84">`</span><span style="color:#b84">:host</span><span style="color:#b84">`</span> <span style="font-weight:bold">and</span> <span style="color:#b84">`</span><span style="color:#b84">:port</span><span style="color:#b84">`</span> options are moving within <span style="color:#b84">`</span><span style="color:#b84">:redirect</span><span style="color:#b84">`</span>:
    <span style="color:#b84">`</span><span style="color:#b84">config.ssl_options = { redirect: { host: …, port: … }}</span><span style="color:#b84">`</span><span style="font-weight:bold">.</span>
    end_warning
    @redirect <span style="font-weight:bold">=</span> options<span style="font-weight:bold">.</span>slice(<span style="color:#b84">:host</span>, <span style="color:#b84">:port</span>)
  <span style="font-weight:bold">else</span>
    @redirect <span style="font-weight:bold">=</span> redirect
  <span style="font-weight:bold">end</span>

  @hsts_header <span style="font-weight:bold">=</span> build_hsts_header(normalize_hsts_options(hsts))
<span style="font-weight:bold">end</span></code></pre></div>
<p>The <code>#build_hsts_header</code> method takes a normalized hash of HSTS options and
builds the header based on the values in the hash. This all takes effect in the
<code>#call</code> method:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold"></span><span style="font-weight:bold"></span><span style="color:#900;font-weight:bold">call</span>(env)
  request <span style="font-weight:bold">=</span> <span style="color:#008080">Request</span><span style="font-weight:bold">.</span>new env

  <span style="font-weight:bold">if</span> request<span style="font-weight:bold">.</span>ssl?
    @app<span style="font-weight:bold">.</span>call(env)<span style="font-weight:bold">.</span>tap <span style="font-weight:bold">do</span> <span style="font-weight:bold">|</span>status, headers, body<span style="font-weight:bold">|</span>
      set_hsts_header! headers
      flag_cookies_as_secure! headers
    <span style="font-weight:bold">end</span>
  <span style="font-weight:bold">else</span>
    redirect_to_https request
  <span style="font-weight:bold">end</span>
<span style="font-weight:bold">end</span></code></pre></div>
<p>After the HSTS header is added to the request, it is passed down onto the rest
of the middleware stack.</p>
<h2 id="securing-the-cookies">Securing the cookies</h2>
<p>Securing the cookies is done in the same module. The <code>flag_cookies_as_secure!</code>
method looks for the <code>Set-Cookie</code> header in the request and appends the
<code>secure</code> property to the <code>Set-Cookie</code> header if needed.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold"></span><span style="font-weight:bold"></span><span style="color:#900;font-weight:bold">flag_cookies_as_secure!</span>(headers)
  <span style="font-weight:bold">if</span> cookies <span style="font-weight:bold">=</span> headers<span style="font-weight:bold">[</span><span style="color:#b84">&#39;Set-Cookie&#39;</span><span style="font-weight:bold">.</span>freeze<span style="font-weight:bold">]</span>
    cookies <span style="font-weight:bold">=</span> cookies<span style="font-weight:bold">.</span>split(<span style="color:#b84">&#34;</span><span style="color:#b84">\n</span><span style="color:#b84">&#34;</span><span style="font-weight:bold">.</span>freeze)

    headers<span style="font-weight:bold">[</span><span style="color:#b84">&#39;Set-Cookie&#39;</span><span style="font-weight:bold">.</span>freeze<span style="font-weight:bold">]</span> <span style="font-weight:bold">=</span> cookies<span style="font-weight:bold">.</span>map { <span style="font-weight:bold">|</span>cookie<span style="font-weight:bold">|</span>
      <span style="font-weight:bold">if</span> cookie <span style="font-weight:bold">!~</span> <span style="color:#808000">/</span><span style="color:#808000">;</span><span style="color:#808000">\</span><span style="color:#808000">s*secure</span><span style="color:#808000">\</span><span style="color:#808000">s*(;|$)</span><span style="color:#808000">/i</span>
        <span style="color:#b84">&#34;</span><span style="color:#b84">#{</span>cookie<span style="color:#b84">}</span><span style="color:#b84">; secure</span><span style="color:#b84">&#34;</span>
      <span style="font-weight:bold">else</span>
        cookie
      <span style="font-weight:bold">end</span>
    }<span style="font-weight:bold">.</span>join(<span style="color:#b84">&#34;</span><span style="color:#b84">\n</span><span style="color:#b84">&#34;</span><span style="font-weight:bold">.</span>freeze)
  <span style="font-weight:bold">end</span>
<span style="font-weight:bold">end</span></code></pre></div>
<p>For reference, this is what the <code>Set-Cookie</code> header looks like:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Set-Cookie: cookie-name<span style="font-weight:bold">=</span>cookie-value-here; <span style="color:#008080">path</span><span style="font-weight:bold">=</span>/; <span style="color:#008080">expires</span><span style="font-weight:bold">=</span>Fri, <span style="color:#099">01</span> Jan <span style="color:#099">2016</span> 00:00:00 -0000; secure; HttpOnly</code></pre></div>
<p>This will tell the browser that the cookie should be secured and sent only via
HTTPS. Just like the HSTS header, the secure cookies header is attached to the
request in the <code>#call</code> method (which you can see above).</p>
<p>Note: do not confuse the <code>secure</code> directive with the <code>HttpOnly</code> directive.</p>
<h2 id="tls-redirection">TLS redirection</h2>
<p>Another feature of Rails is the so-called &ldquo;TLS redirection&rdquo;. It's workings are
quite simple - whenever you have <code>force_ssl</code> set to true, it will redirect all
of the HTTP traffic to HTTPS. Again, the
<code>Rails::Application::ActionDispatch::SSL</code> middleware class is responsible for
this behaviour of Rails, more specifically the <code>redirect_to_https</code> method,
which invokes the <code>https_location_for</code> method:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold"></span><span style="font-weight:bold"></span><span style="color:#900;font-weight:bold">redirect_to_https</span>(request)
  <span style="font-weight:bold">[</span> @redirect<span style="font-weight:bold">.</span>fetch(<span style="color:#b84">:status</span>, <span style="color:#099">301</span><span style="font-weight:bold"></span>),
    { <span style="color:#b84">&#39;Content-Type&#39;</span> <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">&#39;text/html&#39;</span>,
      <span style="color:#b84">&#39;Location&#39;</span> <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> https_location_for(request) },
    @redirect<span style="font-weight:bold">.</span>fetch(<span style="color:#b84">:body</span>, <span style="font-weight:bold">[</span><span style="font-weight:bold">]</span>) <span style="font-weight:bold">]</span>
<span style="font-weight:bold">end</span>

<span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold"></span><span style="font-weight:bold"></span><span style="color:#900;font-weight:bold">https_location_for</span>(request)
  host <span style="font-weight:bold">=</span> @redirect<span style="font-weight:bold">[</span><span style="color:#b84">:host</span><span style="font-weight:bold">]</span> <span style="font-weight:bold">||</span> request<span style="font-weight:bold">.</span>host
  port <span style="font-weight:bold">=</span> @redirect<span style="font-weight:bold">[</span><span style="color:#b84">:port</span><span style="font-weight:bold">]</span> <span style="font-weight:bold">||</span> request<span style="font-weight:bold">.</span>port

  location <span style="font-weight:bold">=</span> <span style="color:#b84">&#34;</span><span style="color:#b84">https://</span><span style="color:#b84">#{</span>host<span style="color:#b84">}</span><span style="color:#b84">&#34;</span>
  location <span style="font-weight:bold">&lt;&lt;</span> <span style="color:#b84">&#34;</span><span style="color:#b84">:</span><span style="color:#b84">#{</span>port<span style="color:#b84">}</span><span style="color:#b84">&#34;</span> <span style="font-weight:bold">if</span> port <span style="font-weight:bold">!=</span> <span style="color:#099">80</span> <span style="font-weight:bold"></span><span style="font-weight:bold">&amp;&amp;</span> port <span style="font-weight:bold">!=</span> <span style="color:#099">443</span>
  <span style="font-weight:bold"></span>location <span style="font-weight:bold">&lt;&lt;</span> request<span style="font-weight:bold">.</span>fullpath
  location
<span style="font-weight:bold">end</span></code></pre></div>
<p>As you can notice, <code>redirect_to_https</code> rebuilds a response which will have the
same <code>Content-Type</code> and <code>body</code>, but the <code>Location</code> and <code>HTTP Status</code> will be
different.</p>
<p>In it's core, the middleware just wraps the incoming request and
checks if it's SSL/TLS based. If not, it redirects the web client to the same
resource on the server, just via HTTPS.</p>
<h2 id="outro">Outro</h2>
<p>As we saw in this article, Rails does some magic under the hood for us. It's
really great that we all get these great benefits without even bothering to set
them up. Although we get them by default, it's good to know what happens with
our application under the hood.</p>
<p>I hope this article was fun to read and informative for you. Do you have a
favourite &ldquo;hidden&rdquo; functionality of Rails that not many of us know? Please
share your thoughts with me in the comments section below.</p>

			</div>

			<div class="tags">
				
					
						<ul class="flat">
							
							<li><a href="/tags/cookies">cookies</a></li>
							
							<li><a href="/tags/hsts">hsts</a></li>
							
						</ul>
					
				
			</div><div id="disqus_thread"></div>
<script type="text/javascript">
	(function () {
		
		
		if (window.location.hostname == "localhost")
			return;

		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		var disqus_shortname = 'eftimov';
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the </a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> Copyright © 2014 - 2020 Ilija Eftimov |  <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-11264459-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script>feather.replace()</script>
</body>
</html>
