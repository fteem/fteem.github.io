<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>AngularJS Services Part 3: Service - Ilija Eftimov</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta itemprop="name" content="AngularJS Services Part 3: Service">
<meta itemprop="description" content="So, Service is basically the same as Factory, it just has one key difference. Service treats the function as a constructor, meaning, the service will call new on the function and return the resulting object as a service object. Oh, if you haven&#39;t yet read about Factory, check out AngularJS Services Part 2: Factory.
Using Service Declaring a Service is easy. Lets look at an example.
(function(){ angular.module(&#39;app&#39;, []) .service(&#34;GreetingService&#34;, GreetingService); function GreetingService(){ this.">

<meta itemprop="wordCount" content="531">



<meta itemprop="keywords" content="services,service," /><meta property="og:title" content="AngularJS Services Part 3: Service" />
<meta property="og:description" content="So, Service is basically the same as Factory, it just has one key difference. Service treats the function as a constructor, meaning, the service will call new on the function and return the resulting object as a service object. Oh, if you haven&#39;t yet read about Factory, check out AngularJS Services Part 2: Factory.
Using Service Declaring a Service is easy. Lets look at an example.
(function(){ angular.module(&#39;app&#39;, []) .service(&#34;GreetingService&#34;, GreetingService); function GreetingService(){ this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ieftimov.com/post/angularjs-services-part-3/" />
<meta property="article:published_time" content="2015-02-28T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="AngularJS Services Part 3: Service"/>
<meta name="twitter:description" content="So, Service is basically the same as Factory, it just has one key difference. Service treats the function as a constructor, meaning, the service will call new on the function and return the resulting object as a service object. Oh, if you haven&#39;t yet read about Factory, check out AngularJS Services Part 2: Factory.
Using Service Declaring a Service is easy. Lets look at an example.
(function(){ angular.module(&#39;app&#39;, []) .service(&#34;GreetingService&#34;, GreetingService); function GreetingService(){ this."/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="https://ieftimov.com/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://ieftimov.com/css/main.css" />
		<link rel="stylesheet" type="text/css" href="https://ieftimov.com/css/overrides.css" />
	

        <link id="dark-scheme" rel="stylesheet" type="text/css" href="https://ieftimov.com/css/dark.css" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
		<script src="https://ieftimov.com/js/main.js"></script><script src="https://ieftimov.com/js/tooltip.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
		<div class="avatar">
			<a href="https://ieftimov.com/">
				<img src="/avatar.png" alt="Ilija Eftimov" />
			</a>
		</div>
	
	<h1 class="site-title"><a href="https://ieftimov.com/">Ilija Eftimov</a></h1>
	<div class="site-description"><p>A human, interested in building products and software.</p><nav class="nav social">
			<ul class="flat"><li><a href="https://github.com/fteem" title="Github"><i data-feather="github"></i></a></li><li><a href="https://twitter.com/fteem" title="Twitter"><i data-feather="twitter"></i></a></li><li><a href="https://www.linkedin.com/in/ieftimov" title="Linkedin"><i data-feather="linkedin"></i></a></li><li><a href="mailto:blog@ieftimov.com" title="Email"><i data-feather="mail"></i></a></li></ul>
		</nav><span class="scheme-toggle"><a href="#" id="scheme-toggle"></a></div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/categories/testing-in-go">Testing in Go</a>
			</li>
			
			<li>
				<a href="/posts">Archive</a>
			</li>
			
			<li>
				<a href="/about">About</a>
			</li>
			
			<li>
				<a href="https://forms.gle/orfXK5jh1LRaiFzo8">Suggest a topic</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">28</span>
							<span class="rest">Feb 2015</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">AngularJS Services Part 3: Service</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>So, Service is basically the same as Factory, it just has one key difference.
Service treats the function as a constructor, meaning, the service will call
<strong>new</strong> on the function and return the resulting object as a service object.
Oh, if you haven't yet read about Factory, check out
<a href="/angularjs-services-part-2">AngularJS Services Part 2: Factory</a>.</p>
<h2 id="using-service">Using Service</h2>
<p>Declaring a Service is easy. Lets look at an example.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">(<span style="font-weight:bold">function</span>(){
  angular.module(<span style="color:#b84">&#39;app&#39;</span>, [])
      .service(<span style="color:#b84">&#34;GreetingService&#34;</span>, GreetingService);

  <span style="font-weight:bold">function</span> GreetingService(){
    <span style="font-weight:bold">this</span>.greet <span style="font-weight:bold">=</span> <span style="font-weight:bold">function</span>(){
      console.log(<span style="color:#b84">&#34;Hello&#34;</span>);
    }
  }
})();
</code></pre></div>
<p>As you can see, we create a named function GreetingService and we create a
service out of it. One slight difference is that we are treating the function
as a constructor. This means that, like I said before, the Service will call
<strong>new GreetingService()</strong> when instantiating the service singleton.</p>
<p>In case you are wondering, in the example, we can use the GreetingService
prototype too.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">(<span style="font-weight:bold">function</span>(){
  angular.module(<span style="color:#b84">&#39;app&#39;</span>, [])
      .service(<span style="color:#b84">&#34;GreetingService&#34;</span>, GreetingService);

  <span style="font-weight:bold">function</span> GreetingService(){ }

  GreetingService.prototype.greet <span style="font-weight:bold">=</span> <span style="font-weight:bold">function</span>(){
    console.log(<span style="color:#b84">&#34;Hello&#34;</span>);
  }
})();
</code></pre></div>
<p>These examples are basically the same. One advantage of Prototypes is that it
allows us to use prototype-based inheritance.</p>
<h2 id="service-in-the-wild">Service in the wild</h2>
<p>I will use the same example from <a href="/angularjs-services-part-2">my last post about Factory</a>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">(<span style="font-weight:bold">function</span>(){
	angular.module(<span style="color:#b84">&#34;app&#34;</span>, [])

	.service(<span style="color:#b84">&#39;TemperatureService&#39;</span>, TemperatureService);

	<span style="font-weight:bold">function</span> TemperatureService($http){
		<span style="font-weight:bold">this</span>.API_URL <span style="font-weight:bold">=</span> <span style="color:#b84">&#34;http://api.openweathermap.org/data/2.5/weather?q=London,uk&#34;</span>;

		<span style="font-weight:bold">this</span>.get <span style="font-weight:bold">=</span> <span style="font-weight:bold">function</span>(){
			<span style="font-weight:bold">return</span> $http.get(<span style="font-weight:bold">this</span>.API_URL)
				.then(<span style="font-weight:bold">function</span>(results){
					<span style="font-weight:bold">return</span> results.data.main.temp;
				})
				.<span style="font-weight:bold">catch</span>(<span style="font-weight:bold">function</span>(err){
					console.log(err);
				});
		}
	}

})();
</code></pre></div>
<p>We use <a href="http://openweathermap.org/">OpenWeatherMap's API</a> and we'll fetch
London's (UK) current temperature using a service.</p>
<p>Angular's built-in <strong>$http</strong> service is injected into our service so we can
make HTTP calls to a external API.</p>
<p>The rest, is simple - we issue an HTTP call, use promises to handle successful or
errored requests and we return back the promise itself.</p>
<p>What would injecting the service in a controller look like?</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">(<span style="font-weight:bold">function</span>(){
	angular.module(<span style="color:#b84">&#39;app&#39;</span>)
		.controller(<span style="color:#b84">&#39;TemperaturesController&#39;</span>, TemperaturesController);

	<span style="font-weight:bold">function</span> TemperaturesController(TemperatureService){

		TemperatureService.get().then(<span style="font-weight:bold">function</span>(temperature){
		  <span style="color:#998;font-style:italic">// Use the temperature in whichever way you want...
</span><span style="color:#998;font-style:italic"></span>			console.log(temperature);
		});

	}
})();
</code></pre></div>
<p>Easy! The service is injected in the controller, get() is called on the service
and the returned promise from the service is handled. Then, when we get the
temperature in the promise we can do whatever we want with it.</p>
<p>As you can see, services are pretty simple compared to Provier or Factory.
Although simple, we can use protype-based inheritance. What does that mean?</p>
<h2 id="inheritance-via-prototype-chains">Inheritance via prototype chains</h2>
<p>If you are unfamiliar with this topic, I recommend you read
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain">MDN's article on this topic</a>
before continuing with the example.</p>
<p>So, since Service allows us to use prototypes, let's see how we can leverage
this.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">(<span style="font-weight:bold">function</span>(){
	<span style="color:#b84">&#34;use strict&#34;</span>;

	angular.module(<span style="color:#b84">&#34;app&#34;</span>, [])
			.service(<span style="color:#b84">&#39;GreetingService&#39;</span>, GreetingService);

	<span style="font-weight:bold">function</span> Greeting {
		<span style="font-weight:bold">this</span>.hello <span style="font-weight:bold">=</span> <span style="font-weight:bold">function</span>(){
			console.log(<span style="color:#b84">&#34;Hello!&#34;</span>);
		}
	}

	<span style="font-weight:bold">function</span> GreetingService {
		Greeting.call(<span style="font-weight:bold">this</span>);

		<span style="font-weight:bold">this</span>.bye <span style="font-weight:bold">=</span> <span style="font-weight:bold">function</span>(){
			console.log(<span style="color:#b84">&#39;Bye!&#39;</span>);
		}
	}

	GreetingService.prototype <span style="font-weight:bold">=</span> <span style="color:#999">Object</span>.create(Greeting.prototype);


})();
</code></pre></div>
<p>You can see in the code above how we can use inheritance to our own benefit
here.  I am guessing you already know that GreetingService will have both, the
hello() and bye() functions. Also, what's cool about this approach is that we
can make Greet a service as well. These are some nice ways you can use the
Service service in AngularJS. Although it provides a lot of flexibility, can be
a bit confusing.</p>
<p>In the next post we will look at the last two types of services: Constants and
Values.</p>

			</div>

			<div class="tags">
				
					
						<ul class="flat">
							
							<li><a href="/tags/services">services</a></li>
							
							<li><a href="/tags/service">service</a></li>
							
						</ul>
					
				
			</div><div id="disqus_thread"></div>
<script type="text/javascript">
	(function () {
		
		
		if (window.location.hostname == "localhost")
			return;

		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		var disqus_shortname = 'eftimov';
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the </a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div>2015  Copyright Â© Ilija Eftimov |  <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-11264459-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script>feather.replace()</script>
</body>
</html>
