<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>How Rails handles status codes - Ilija Eftimov</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="How Rails handles status codes" />
<meta property="og:description" content="Recently, I have been building an API as part of my day job. Rails is a great framework to build APIs in, and it has been a joy so far. When building the responses of the API, it&#39;s paramount to understand what HTTP statuses you should utilize, which will in return help the consumers by providing more meaningful responses.
Sure, you could always have a status property in the response JSON, which will be a human-readable status code." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ieftimov.com/post/how-rails-handles-status-codes/" />
<meta property="og:image" content="https://ieftimov.com/cards/how-rails-handles-status-codes.png" />
<meta property="article:published_time" content="2016-05-27T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://ieftimov.com/cards/how-rails-handles-status-codes.png"/>

<meta name="twitter:title" content="How Rails handles status codes"/>
<meta name="twitter:description" content="Recently, I have been building an API as part of my day job. Rails is a great framework to build APIs in, and it has been a joy so far. When building the responses of the API, it&#39;s paramount to understand what HTTP statuses you should utilize, which will in return help the consumers by providing more meaningful responses.
Sure, you could always have a status property in the response JSON, which will be a human-readable status code."/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="https://ieftimov.com/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://ieftimov.com/css/main.css" />
		<link rel="stylesheet" type="text/css" href="https://ieftimov.com/css/overrides.css" />
	

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
		<script src="https://ieftimov.com/js/main.js"></script><script src="https://ieftimov.com/js/tooltip.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
		<div class="avatar">
			<a href="https://ieftimov.com/">
				<img src="avatar.jpg" alt="Ilija Eftimov" />
			</a>
		</div>
	
	<h1 class="site-title"><a href="https://ieftimov.com/">Ilija Eftimov</a></h1>
	<div class="site-description"><p>A human, interested in building products and software.</p><nav class="nav social">
			<ul class="flat"><li><a href="https://github.com/fteem" title="Github"><i data-feather="github"></i></a></li><li><a href="https://twitter.com/fteem" title="Twitter"><i data-feather="twitter"></i></a></li><li><a href="https://www.linkedin.com/in/ieftimov" title="Linkedin"><i data-feather="linkedin"></i></a></li><li><a href="mailto:blog@ieftimov.com" title="Email"><i data-feather="mail"></i></a></li></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/categories/testing-in-go">Testing in Go</a>
			</li>
			
			<li>
				<a href="/posts">Archive</a>
			</li>
			
			<li>
				<a href="/about">About</a>
			</li>
			
			<li>
				<a href="https://forms.gle/orfXK5jh1LRaiFzo8">Suggest a topic</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">27</span>
							<span class="rest">May 2016</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">How Rails handles status codes</h1>
				</div>
			</div>
					
			<div class="markdown">
				<p>Recently, I have been building an API as part of my day job. Rails is a great
framework to build APIs in, and it has been a joy so far. When building the
responses of the API, it's paramount to understand what HTTP statuses you
should utilize, which will in return help the consumers by providing more
meaningful responses.</p>
<p>Sure, you could always have a <code>status</code> property in the response JSON, which
will be a human-readable status code. But, I would like you to think about HTTP
status codes as a nice card on a present, with your beautiful handwriting and
best wishes to whom the gift goes to. HTTP status code don't just add more
semantical correctness, but they also speak about the nature of the response.</p>
<h2 id="rails-and-statuses">Rails and statuses</h2>
<p>Ruby on Rails, being a great framework, adds a very nice layer of abstraction
of the status codes, and allows the developers to easily use custom status
codes in their responses. I am sure, at some point you have seen something
like:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">render <span style="color:#b84">json</span>: @resource, <span style="color:#b84">status</span>: <span style="color:#099">201</span> <span style="font-weight:bold"></span><span style="color:#998;font-style:italic"># Created</span></code></pre></div>
<p>While this might be sometimes redundant, the <code>render</code> method in Rails allows
you to specify HTTP status codes for the response. But also, being very
developer friendly, Rails allows you to do the same with &ldquo;human readable&rdquo;
status codes:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">render <span style="color:#b84">json</span>: @resource, <span style="color:#b84">status</span>: <span style="color:#b84">:created</span></code></pre></div>
<p>The two code samples are identical, they specify the HTTP 201 status code to
the response. But, what are the available Rails status codes (as symbols) that
you can use? And how does Rails actually do this?</p>
<h2 id="status-codes">Status codes</h2>
<p>The HTTP status codes list is a quite stable and static list. Although
sometimes status codes are added to the list, once you learn it, keeping up to
date is rather easy. The latest addition to this list is HTTP 451 - Unavailable
For Legal Reasons. You can see the RFC where it was proposed
<a href="http://tools.ietf.org/html/rfc7725">here</a>.</p>
<p>So, how does Rails knows how to create all of these symbols, so we can use them
in our <code>render</code> methods? Well, what's very interesting is that Rails actually
doesn't do much about this. It relies on Rack, which does all of this magic. In
an <code>irb</code> session, type:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">&gt;&gt;</span> <span style="color:#008080">Rack</span><span style="font-weight:bold">::</span><span style="color:#008080">Utils</span><span style="font-weight:bold">::</span><span style="color:#008080">HTTP_STATUS_CODES</span>

{<span style="color:#099">100</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Continue</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">101</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Switching Protocols</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">102</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Processing</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">200</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">OK</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">201</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Created</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">202</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Accepted</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">203</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Non-Authoritative Information</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">204</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">No Content</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">205</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Reset Content</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">206</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Partial Content</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">207</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Multi-Status</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">208</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Already Reported</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">226</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">IM Used</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">300</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Multiple Choices</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">301</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Moved Permanently</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">302</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Found</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">303</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">See Other</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">304</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Not Modified</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">305</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Use Proxy</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">307</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Temporary Redirect</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">308</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Permanent Redirect</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">400</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Bad Request</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">401</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Unauthorized</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">402</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Payment Required</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">403</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Forbidden</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">404</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Not Found</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">405</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Method Not Allowed</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">406</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Not Acceptable</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">407</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Proxy Authentication Required</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">408</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Request Timeout</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">409</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Conflict</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">410</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Gone</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">411</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Length Required</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">412</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Precondition Failed</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">413</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Payload Too Large</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">414</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">URI Too Long</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">415</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Unsupported Media Type</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">416</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Range Not Satisfiable</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">417</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Expectation Failed</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">422</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Unprocessable Entity</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">423</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Locked</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">424</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Failed Dependency</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">426</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Upgrade Required</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">428</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Precondition Required</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">429</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Too Many Requests</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">431</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Request Header Fields Too Large</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">500</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Internal Server Error</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">501</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Not Implemented</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">502</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Bad Gateway</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">503</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Service Unavailable</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">504</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Gateway Timeout</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">505</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">HTTP Version Not Supported</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">506</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Variant Also Negotiates</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">507</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Insufficient Storage</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">508</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Loop Detected</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">510</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Not Extended</span><span style="color:#b84">&#34;</span>,
 <span style="color:#099">511</span><span style="font-weight:bold"></span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#b84">&#34;</span><span style="color:#b84">Network Authentication Required</span><span style="color:#b84">&#34;</span>}</code></pre></div>
<p>As you can see, the <code>Rack::Utils::HTTP_STATUS_CODES</code> is a Hash that has all of
the HTTP status codes, with the corresponding messages. If you open the
<code>Rack::Utils</code>
<a href="http://www.rubydoc.info/github/rack/rack/master/Rack/Utils#HTTP_STATUS_CODES-constant">documentation</a>
you can see how these are programmatically created, including the code that
does the conversion. The status codes are pulled from
<a href="www.iana.org/assignments/http-status-codes/http-status-codes-1.csv">this CSV file</a>
and are parsed using this piece of code:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">ruby <span style="font-weight:bold">-</span>ne <span style="color:#b84">&#39;m = /^(\d{3}),(?!Unassigned|\(Unused\))([^,]+)/.match($_) and puts &#34;#{m[1]} =&gt; \x27#{m[2].strip}\x27,&#34;&#39;</span></code></pre></div>
<p>Great. But, how do we get the symbolized versions of the status messages? Well,
Rack does that for us as well. In an <code>irb</code> session, try this:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">&gt;&gt;</span> <span style="color:#008080">Rack</span><span style="font-weight:bold">::</span><span style="color:#008080">Utils</span><span style="font-weight:bold">::</span><span style="color:#008080">SYMBOL_TO_STATUS_CODE</span>
{<span style="color:#b84">:continue</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">100</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:switching_protocols</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">101</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:processing</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">102</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:ok</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">200</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:created</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">201</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:accepted</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">202</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:non_authoritative_information</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">203</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:no_content</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">204</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:reset_content</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">205</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:partial_content</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">206</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:multi_status</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">207</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:already_reported</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">208</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:im_used</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">226</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:multiple_choices</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">300</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:moved_permanently</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">301</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:found</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">302</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:see_other</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">303</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:not_modified</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">304</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:use_proxy</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">305</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:temporary_redirect</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">307</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:permanent_redirect</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">308</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:bad_request</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">400</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:unauthorized</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">401</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:payment_required</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">402</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:forbidden</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">403</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:not_found</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">404</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:method_not_allowed</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">405</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:not_acceptable</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">406</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:proxy_authentication_required</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">407</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:request_timeout</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">408</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:conflict</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">409</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:gone</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">410</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:length_required</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">411</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:precondition_failed</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">412</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:payload_too_large</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">413</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:uri_too_long</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">414</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:unsupported_media_type</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">415</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:range_not_satisfiable</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">416</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:expectation_failed</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">417</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:unprocessable_entity</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">422</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:locked</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">423</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:failed_dependency</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">424</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:upgrade_required</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">426</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:precondition_required</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">428</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:too_many_requests</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">429</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:request_header_fields_too_large</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">431</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:internal_server_error</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">500</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:not_implemented</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">501</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:bad_gateway</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">502</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:service_unavailable</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">503</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:gateway_timeout</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">504</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:http_version_not_supported</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">505</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:variant_also_negotiates</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">506</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:insufficient_storage</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">507</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:loop_detected</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">508</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:not_extended</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">510</span><span style="font-weight:bold"></span>,
 <span style="color:#b84">:network_authentication_required</span><span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span><span style="color:#099">511</span><span style="font-weight:bold"></span>}</code></pre></div>
<p>As you can see, the <code>Rack::Utils::SYMBOL_TO_STATUS_CODE</code> constant contains all
of the status codes as symbols. The
<a href="http://www.rubydoc.info/github/rack/rack/master/Rack/Utils#SYMBOL_TO_STATUS_CODE-constant">documentation</a>
also shows the actual conversion, from <code>HTTP_STATUS_CODES</code> to
<code>SYMBOL_TO_STATUS_CODE</code>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#008080">Hash</span><span style="font-weight:bold">[</span><span style="font-weight:bold">*</span><span style="color:#008080">HTTP_STATUS_CODES</span><span style="font-weight:bold">.</span>map { <span style="font-weight:bold">|</span>code, message<span style="font-weight:bold">|</span>
  <span style="font-weight:bold">[</span>message<span style="font-weight:bold">.</span>downcase<span style="font-weight:bold">.</span>gsub(<span style="color:#808000">/</span><span style="color:#808000">\</span><span style="color:#808000">s|-|&#39;</span><span style="color:#808000">/</span>, <span style="color:#b84">&#39;_&#39;</span>)<span style="font-weight:bold">.</span>to_sym, code<span style="font-weight:bold">]</span>
}<span style="font-weight:bold">.</span>flatten<span style="font-weight:bold">]</span></code></pre></div>
<p>Having all of this documentation in place, is rather easy to see how everything
falls into place. Rails being a Rack app, can utilize everything that Rack
provides, and this is just an example. But, how does Rails actually plugs this
into its runtime and has the ability to understand what is the status code?</p>
<h2 id="a-bit-deeper">A bit deeper</h2>
<p>Rails&rsquo; source code, although very well documented and well structured, can still be
overwhelming to someone that hasn't spent enough time digging through. If you are
a Ruby developer, I encourage you to spend some time around Rails&rsquo; code - you
will learn a lot, I promise you!</p>
<p>So, how does Rails know what status code to apply to the response, if you provide
just the symbolized version on the status? Well, let's start with Rails&rsquo; class
hierarchy, which is quite nice.</p>
<p>On the surface, or what we usually see as developers, the rendering is done in
the controllers. If you open any of your applications&rsquo; <code>ApplicationController</code>,
you will see something like:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">class</span> <span style="color:#458;font-weight:bold">ApplicationController</span> <span style="font-weight:bold">&lt;</span> <span style="color:#008080">ActionController</span><span style="font-weight:bold">::</span><span style="color:#008080">Base</span>
  <span style="font-weight:bold">...</span>
<span style="font-weight:bold">end</span></code></pre></div>
<p>This means that all of our controllers are subclasses of the
<code>ActionController::Base</code> class. If you open the
<a href="https://github.com/rails/rails/blob/52ce6ece8c8f74064bb64e0a0b1ddd83092718e1/actionpack/lib/action_controller/base.rb">source code</a>
of the <code>ActionController::Base</code> class, you will see some very interesting things,
that can be quite informative. But for our use case, we are interested in the
following:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#008080">MODULES</span> <span style="font-weight:bold">=</span> <span style="font-weight:bold">[</span>
  <span style="color:#008080">AbstractController</span><span style="font-weight:bold">::</span><span style="color:#008080">Rendering</span>,
  <span style="color:#008080">AbstractController</span><span style="font-weight:bold">::</span><span style="color:#008080">Translation</span>,
  <span style="color:#008080">AbstractController</span><span style="font-weight:bold">::</span><span style="color:#008080">AssetPaths</span>,

  <span style="color:#008080">Helpers</span>,
  <span style="color:#008080">UrlFor</span>,
  <span style="color:#008080">Redirecting</span>,
  <span style="color:#008080">ActionView</span><span style="font-weight:bold">::</span><span style="color:#008080">Layouts</span>,
  <span style="color:#008080">Rendering</span>,
  <span style="color:#008080">Renderers</span><span style="font-weight:bold">::</span><span style="color:#008080">All</span>,
  <span style="color:#008080">ConditionalGet</span>,
  <span style="color:#008080">EtagWithTemplateDigest</span>,
  <span style="color:#008080">Caching</span>,
  <span style="color:#008080">MimeResponds</span>,
  <span style="color:#008080">ImplicitRender</span>,
  <span style="color:#008080">StrongParameters</span>,

  <span style="color:#008080">Cookies</span>,
  <span style="color:#008080">Flash</span>,
  <span style="color:#008080">FormBuilder</span>,
  <span style="color:#008080">RequestForgeryProtection</span>,
  <span style="color:#008080">ForceSSL</span>,
  <span style="color:#008080">Streaming</span>,
  <span style="color:#008080">DataStreaming</span>,
  <span style="color:#008080">HttpAuthentication</span><span style="font-weight:bold">::</span><span style="color:#008080">Basic</span><span style="font-weight:bold">::</span><span style="color:#008080">ControllerMethods</span>,
  <span style="color:#008080">HttpAuthentication</span><span style="font-weight:bold">::</span><span style="color:#008080">Digest</span><span style="font-weight:bold">::</span><span style="color:#008080">ControllerMethods</span>,
  <span style="color:#008080">HttpAuthentication</span><span style="font-weight:bold">::</span><span style="color:#008080">Token</span><span style="font-weight:bold">::</span><span style="color:#008080">ControllerMethods</span>,

  <span style="color:#998;font-style:italic"># Before callbacks should also be executed the earliest as possible, so</span>
  <span style="color:#998;font-style:italic"># also include them at the bottom.</span>
  <span style="color:#008080">AbstractController</span><span style="font-weight:bold">::</span><span style="color:#008080">Callbacks</span>,

  <span style="color:#998;font-style:italic"># Append rescue at the bottom to wrap as much as possible.</span>
  <span style="color:#008080">Rescue</span>,

  <span style="color:#998;font-style:italic"># Add instrumentations hooks at the bottom, to ensure they instrument</span>
  <span style="color:#998;font-style:italic"># all the methods properly.</span>
  <span style="color:#008080">Instrumentation</span>,

  <span style="color:#998;font-style:italic"># Params wrapper should come before instrumentation so they are</span>
  <span style="color:#998;font-style:italic"># properly showed in logs</span>
  <span style="color:#008080">ParamsWrapper</span>
<span style="font-weight:bold">]</span>

<span style="color:#008080">MODULES</span><span style="font-weight:bold">.</span>each <span style="font-weight:bold">do</span> <span style="font-weight:bold">|</span>mod<span style="font-weight:bold">|</span>
  <span style="font-weight:bold">include</span> mod
<span style="font-weight:bold">end</span></code></pre></div>
<p>This piece of code, actually includes all of these modules in the
<code>ActionController::Base</code> class, which in return gives us all of the
functionlities that our controllers have. Just look at the module names, like
<code>Redirecting</code>, <code>ActionView::Layouts</code>, <code>Rendering</code>, <code>Cookies</code>, <code>Flash</code> and so on.
Very self-explanatory, right?</p>
<p>Well, the classes that we are interested in are <code>AbstractController::Rendering</code>
and <code>ActionController::Rendering</code>. The first one is an abstract class, kind of
like an interface, and the second one is the default implementation class, which
contains all of the rendering mechanisms that Rails uses to render your response.
When we call <code>render</code> in our controllers, we are executing the
<code>ActionController::Rendering#render</code> method, which does couple of things for us:
it normalizes the arguments, the options and then builds the body of the response.
When it normalizes the arguments, deep inside the <code>_normalize_render</code> method, it
contains these lines of code:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">if</span> options<span style="font-weight:bold">[</span><span style="color:#b84">:status</span><span style="font-weight:bold">]</span>
  options<span style="font-weight:bold">[</span><span style="color:#b84">:status</span><span style="font-weight:bold">]</span> <span style="font-weight:bold">=</span> <span style="color:#008080">Rack</span><span style="font-weight:bold">::</span><span style="color:#008080">Utils</span><span style="font-weight:bold">.</span>status_code(options<span style="font-weight:bold">[</span><span style="color:#b84">:status</span><span style="font-weight:bold">]</span>)
<span style="font-weight:bold">end</span></code></pre></div>
<p>This piece of code, takes the <code>:status</code> option from our render call, and
translates the symbol to an actual HTTP code. If we go back to <code>Rack::Utils</code>
documentation, we can see the actual implementation of the <code>status_code</code> method:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#998;font-style:italic"># File &#39;lib/rack/utils.rb&#39;, line 573</span>

<span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold"></span><span style="font-weight:bold"></span><span style="color:#900;font-weight:bold">status_code</span>(status)
  <span style="font-weight:bold">if</span> status<span style="font-weight:bold">.</span>is_a?(<span style="color:#008080">Symbol</span>)
    <span style="color:#008080">SYMBOL_TO_STATUS_CODE</span><span style="font-weight:bold">[</span>status<span style="font-weight:bold">]</span> <span style="font-weight:bold">||</span> <span style="color:#099">500</span>
  <span style="font-weight:bold"></span><span style="font-weight:bold">else</span>
    status<span style="font-weight:bold">.</span>to_i
  <span style="font-weight:bold">end</span>
<span style="font-weight:bold">end</span></code></pre></div>
<p>Here's how your <code>status: :created</code> gets translated to a <code>status: 201</code>. As you
can see, although Rails&rsquo; source is sometimes hard to digest, it's very well
done and navigating through it is not that hard.</p>
<h2 id="what-about-exceptions">What about exceptions?</h2>
<p>So now we know how Rails does the expected rendering, which was created by us,
developers. But, what happens when Rails hits an exception of some sort, but it
still has to recover from it and return a proper HTTP status code to the client?</p>
<p>Although at first you might expect some sort of a <code>rescue</code> block in
<code>ActionController::Metal</code> class, this is not the case. Open any Rails app you
have on your computer, and run in it's root directory:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">➜  rake middleware

use Rack::Sendfile
use ActionDispatch::Static
use ActionDispatch::LoadInterlock
use ActiveSupport::Cache::Strategy::LocalCache::Middleware
use Rack::Runtime
use ActionDispatch::RequestId
use Rails::Rack::Logger
*use ActionDispatch::ShowExceptions*
use ActionDispatch::DebugExceptions
use ActionDispatch::RemoteIp
use ActionDispatch::Reloader
use ActionDispatch::Callbacks
use ActiveRecord::Migration::CheckPending
use ActiveRecord::ConnectionAdapters::ConnectionManagement
use ActiveRecord::QueryCache
use Rack::Head
use Rack::ConditionalGet
use Rack::ETag
use ActionView::Digestor::PerRequestDigestCacheExpiry
run YourApp::Application.routes</code></pre></div>
<p>Actually, the exceptions are handled in Rails&rsquo; middleware, more specifically in
the <code>ActionDispatch::ShowExceptions</code> middleware class. It wraps a group of
exceptions and maps them to a specific status code. This is the code that does
the mapping:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">module</span> <span style="color:#555">ActionDispatch</span>
  <span style="font-weight:bold">class</span> <span style="color:#458;font-weight:bold">ExceptionWrapper</span>
    cattr_accessor <span style="color:#b84">:rescue_responses</span>
    @@rescue_responses <span style="font-weight:bold">=</span> <span style="color:#008080">Hash</span><span style="font-weight:bold">.</span>new(<span style="color:#b84">:internal_server_error</span>)
    @@rescue_responses<span style="font-weight:bold">.</span>merge!(
      <span style="color:#b84">&#39;ActionController::RoutingError&#39;</span>              <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:not_found</span>,
      <span style="color:#b84">&#39;AbstractController::ActionNotFound&#39;</span>          <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:not_found</span>,
      <span style="color:#b84">&#39;ActionController::MethodNotAllowed&#39;</span>          <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:method_not_allowed</span>,
      <span style="color:#b84">&#39;ActionController::UnknownHttpMethod&#39;</span>         <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:method_not_allowed</span>,
      <span style="color:#b84">&#39;ActionController::NotImplemented&#39;</span>            <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:not_implemented</span>,
      <span style="color:#b84">&#39;ActionController::UnknownFormat&#39;</span>             <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:not_acceptable</span>,
      <span style="color:#b84">&#39;ActionController::InvalidAuthenticityToken&#39;</span>  <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:unprocessable_entity</span>,
      <span style="color:#b84">&#39;ActionController::InvalidCrossOriginRequest&#39;</span> <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:unprocessable_entity</span>,
      <span style="color:#b84">&#39;ActionDispatch::ParamsParser::ParseError&#39;</span>    <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:bad_request</span>,
      <span style="color:#b84">&#39;ActionController::BadRequest&#39;</span>                <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:bad_request</span>,
      <span style="color:#b84">&#39;ActionController::ParameterMissing&#39;</span>          <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:bad_request</span>,
      <span style="color:#b84">&#39;Rack::Utils::ParameterTypeError&#39;</span>             <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:bad_request</span>,
      <span style="color:#b84">&#39;Rack::Utils::InvalidParameterError&#39;</span>          <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> <span style="color:#b84">:bad_request</span>
    )
    <span style="font-weight:bold">...</span>
  <span style="font-weight:bold">end</span>
<span style="font-weight:bold">end</span></code></pre></div>
<p>All of the exceptions that can occur in the request/response lifecycle are mapped
to a specific status code, which will be returned by the middleware if an
exception is rescued. You can see this functionality in
<code>ActionDispatch::ShowExceptions#call</code> method, which invokes the
<code>render_exception</code> method if an <code>Exception</code> is rescued:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold"></span><span style="font-weight:bold"></span><span style="color:#900;font-weight:bold">call</span>(env)
  request <span style="font-weight:bold">=</span> <span style="color:#008080">ActionDispatch</span><span style="font-weight:bold">::</span><span style="color:#008080">Request</span><span style="font-weight:bold">.</span>new env
  @app<span style="font-weight:bold">.</span>call(env)
<span style="font-weight:bold">rescue</span> <span style="color:#008080">Exception</span> <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> exception
  <span style="font-weight:bold">if</span> request<span style="font-weight:bold">.</span>show_exceptions?
    render_exception(request, exception)
  <span style="font-weight:bold">else</span>
    <span style="font-weight:bold">raise</span> exception
  <span style="font-weight:bold">end</span>
<span style="font-weight:bold">end</span></code></pre></div>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold"></span><span style="font-weight:bold"></span><span style="color:#900;font-weight:bold">render_exception</span>(request, exception)
  backtrace_cleaner <span style="font-weight:bold">=</span> request<span style="font-weight:bold">.</span>get_header <span style="color:#b84">&#39;action_dispatch.backtrace_cleaner&#39;</span>
  wrapper <span style="font-weight:bold">=</span> <span style="color:#008080">ExceptionWrapper</span><span style="font-weight:bold">.</span>new(backtrace_cleaner, exception)
  status  <span style="font-weight:bold">=</span> wrapper<span style="font-weight:bold">.</span>status_code
  request<span style="font-weight:bold">.</span>set_header <span style="color:#b84">&#34;</span><span style="color:#b84">action_dispatch.exception</span><span style="color:#b84">&#34;</span>, wrapper<span style="font-weight:bold">.</span>exception
  request<span style="font-weight:bold">.</span>set_header <span style="color:#b84">&#34;</span><span style="color:#b84">action_dispatch.original_path</span><span style="color:#b84">&#34;</span>, request<span style="font-weight:bold">.</span>path_info
  request<span style="font-weight:bold">.</span>path_info <span style="font-weight:bold">=</span> <span style="color:#b84">&#34;</span><span style="color:#b84">/</span><span style="color:#b84">#{</span>status<span style="color:#b84">}</span><span style="color:#b84">&#34;</span>
  response <span style="font-weight:bold">=</span> @exceptions_app<span style="font-weight:bold">.</span>call(request<span style="font-weight:bold">.</span>env)
  response<span style="font-weight:bold">[</span><span style="color:#099">1</span><span style="font-weight:bold"></span><span style="font-weight:bold">]</span><span style="font-weight:bold">[</span><span style="color:#b84">&#39;X-Cascade&#39;</span><span style="font-weight:bold">]</span> <span style="font-weight:bold">==</span> <span style="color:#b84">&#39;pass&#39;</span> ? pass_response(status) : response
<span style="font-weight:bold">rescue</span> <span style="color:#008080">Exception</span> <span style="font-weight:bold">=</span><span style="font-weight:bold">&gt;</span> failsafe_error
  $stderr<span style="font-weight:bold">.</span>puts <span style="color:#b84">&#34;</span><span style="color:#b84">Error during failsafe response: </span><span style="color:#b84">#{</span>failsafe_error<span style="color:#b84">}</span><span style="color:#b84">\n</span><span style="color:#b84">  </span><span style="color:#b84">#{</span>failsafe_error<span style="font-weight:bold">.</span>backtrace <span style="font-weight:bold">*</span> <span style="color:#b84">&#34;</span><span style="color:#b84">\n</span><span style="color:#b84">  </span><span style="color:#b84">&#34;</span><span style="color:#b84">}</span><span style="color:#b84">&#34;</span>
  <span style="color:#008080">FAILSAFE_RESPONSE</span>
<span style="font-weight:bold">end</span></code></pre></div>
<p>Now, when the exception is being rendered, the <code>ExceptionWrapper</code> comes into the
picture. It will wrap the exception, and return an appropriate status code, which
is translated from the symbolized variant, to the number version, using:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold"></span><span style="font-weight:bold"></span><span style="color:#900;font-weight:bold">status_code</span>
  <span style="color:#999">self</span><span style="font-weight:bold">.</span>class<span style="font-weight:bold">.</span>status_code_for_exception(@exception<span style="font-weight:bold">.</span>class<span style="font-weight:bold">.</span>name)
<span style="font-weight:bold">end</span></code></pre></div>
<p>The <code>status_code</code> method invokes the <code>status_code_for_exception</code> method, which
converts the status code:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="font-weight:bold">def</span> <span style="color:#458;font-weight:bold">self</span><span style="font-weight:bold">.</span><span style="color:#900;font-weight:bold">status_code_for_exception</span>(class_name)
  <span style="color:#008080">Rack</span><span style="font-weight:bold">::</span><span style="color:#008080">Utils</span><span style="font-weight:bold">.</span>status_code(@@rescue_responses<span style="font-weight:bold">[</span>class_name<span style="font-weight:bold">]</span>)
<span style="font-weight:bold">end</span></code></pre></div>
<p>And that's about it. After that, the middleware stack is being executed in order
to return the new response, with the exception and the proper HTTP status code
attached.</p>
<h2 id="after-all">After all</h2>
<p>Although all of this Rails &ldquo;magic&rdquo; might be a bit much to digest at first,
Rails&rsquo; source code does quite a good job of explaining what is going on. And as
you can see, there's always something more than meets the eye. If you need to
remember anything from this blogpost is that Rails does a very good (and
interesting) job at handling HTTP status codes, to make your app's responses
semantically correct and client friendly.</p>
<p>If you got to this point - thanks so much for reading. I know it was a bit of a
long journey, and I hope it was informative for you. Looking forward to reading
your comments!</p>
<script src="https://f.convertkit.com/ckjs/ck.5.js"></script>
      <form action="https://app.convertkit.com/forms/1215893/subscriptions" class="seva-form formkit-form" method="post" data-sv-form="1215893" data-uid="f786e71c27" data-format="inline" data-version="5" data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;:&quot;message&quot;,&quot;success_message&quot;:&quot;Success! Now check your email to confirm your subscription.&quot;,&quot;redirect_url&quot;:&quot;&quot;},&quot;analytics&quot;:{&quot;google&quot;:null,&quot;facebook&quot;:null,&quot;segment&quot;:null,&quot;pinterest&quot;:null},&quot;modal&quot;:{&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15},&quot;powered_by&quot;:{&quot;show&quot;:false,&quot;url&quot;:&quot;https://convertkit.com?utm_source=dynamic&amp;utm_medium=referral&amp;utm_campaign=poweredby&amp;utm_content=form&quot;},&quot;recaptcha&quot;:{&quot;enabled&quot;:false},&quot;return_visitor&quot;:{&quot;action&quot;:&quot;show&quot;,&quot;custom_content&quot;:&quot;&quot;},&quot;slide_in&quot;:{&quot;display_in&quot;:&quot;bottom_right&quot;,&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15},&quot;sticky_bar&quot;:{&quot;display_in&quot;:&quot;top&quot;,&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15}},&quot;version&quot;:&quot;5&quot;}" min-width="400 500 600 700 800" style="background-color: rgb(249, 250, 251); border-radius: 4px;"><div class="formkit-background" style="opacity: 0.2;"></div><div data-style="minimal"><div class="formkit-header" data-element="header" style="color: rgb(77, 77, 77); font-size: 27px; font-weight: 700;"><h1>Join the Newsletter</h1></div><div class="formkit-subheader" data-element="subheader" style="color: rgb(104, 104, 104); font-size: 18px;"><p>I write about backend technologies, programming and cloud architectures. Join hundreds of other developers that get my content, twice a month.</p></div><ul class="formkit-alert formkit-alert-error" data-element="errors" data-group="alert"></ul><div data-element="fields" data-stacked="false" class="seva-fields formkit-fields"><div class="formkit-field"><input class="formkit-input" name="email_address" placeholder="Your email address" required="" type="email" style="color: rgb(0, 0, 0); border-color: rgb(227, 227, 227); border-radius: 4px; font-weight: 400;"></div><button data-element="submit" class="formkit-submit formkit-submit" style="color: rgb(255, 255, 255); background-color: rgb(22, 119, 190); border-radius: 4px; font-weight: 400;"><div class="formkit-spinner"><div></div><div></div><div></div></div><span>Subscribe</span></button></div><div class="formkit-guarantee" data-element="guarantee" style="color: rgb(77, 77, 77); font-size: 13px; font-weight: 400;">

      <p>I respect your privacy. Never spam. Unsubscribe at any time.</p>
    <p>You can also subscribe <a href="/index.xml">via RSS</a>.</p>

      </div></div><style>.formkit-form[data-uid="f786e71c27"] *{box-sizing:border-box;}.formkit-form[data-uid="f786e71c27"]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.formkit-form[data-uid="f786e71c27"] legend{border:none;font-size:inherit;margin-bottom:10px;padding:0;position:relative;display:table;}.formkit-form[data-uid="f786e71c27"] fieldset{border:0;padding:0.01em 0 0 0;margin:0;min-width:0;}.formkit-form[data-uid="f786e71c27"] body:not(:-moz-handler-blocked) fieldset{display:table-cell;}.formkit-form[data-uid="f786e71c27"] h1,.formkit-form[data-uid="f786e71c27"] h2,.formkit-form[data-uid="f786e71c27"] h3,.formkit-form[data-uid="f786e71c27"] h4,.formkit-form[data-uid="f786e71c27"] h5,.formkit-form[data-uid="f786e71c27"] h6{color:inherit;font-size:inherit;font-weight:inherit;}.formkit-form[data-uid="f786e71c27"] p{color:inherit;font-size:inherit;font-weight:inherit;}.formkit-form[data-uid="f786e71c27"] ol:not([template-default]),.formkit-form[data-uid="f786e71c27"] ul:not([template-default]),.formkit-form[data-uid="f786e71c27"] blockquote:not([template-default]){text-align:left;}.formkit-form[data-uid="f786e71c27"] p:not([template-default]),.formkit-form[data-uid="f786e71c27"] hr:not([template-default]),.formkit-form[data-uid="f786e71c27"] blockquote:not([template-default]),.formkit-form[data-uid="f786e71c27"] ol:not([template-default]),.formkit-form[data-uid="f786e71c27"] ul:not([template-default]){color:inherit;font-style:initial;}.formkit-form[data-uid="f786e71c27"][data-format="modal"]{display:none;}.formkit-form[data-uid="f786e71c27"][data-format="slide in"]{display:none;}.formkit-form[data-uid="f786e71c27"] .formkit-input,.formkit-form[data-uid="f786e71c27"] .formkit-select,.formkit-form[data-uid="f786e71c27"] .formkit-checkboxes{width:100%;}.formkit-form[data-uid="f786e71c27"] .formkit-button,.formkit-form[data-uid="f786e71c27"] .formkit-submit{border:0;border-radius:5px;color:#ffffff;cursor:pointer;display:inline-block;text-align:center;font-size:15px;font-weight:500;cursor:pointer;margin-bottom:15px;overflow:hidden;padding:0;position:relative;vertical-align:middle;line-height:1.5;}.formkit-form[data-uid="f786e71c27"] .formkit-button:hover,.formkit-form[data-uid="f786e71c27"] .formkit-submit:hover,.formkit-form[data-uid="f786e71c27"] .formkit-button:focus,.formkit-form[data-uid="f786e71c27"] .formkit-submit:focus{outline:none;}.formkit-form[data-uid="f786e71c27"] .formkit-button:hover > span,.formkit-form[data-uid="f786e71c27"] .formkit-submit:hover > span,.formkit-form[data-uid="f786e71c27"] .formkit-button:focus > span,.formkit-form[data-uid="f786e71c27"] .formkit-submit:focus > span{background-color:rgba(0,0,0,0.1);}.formkit-form[data-uid="f786e71c27"] .formkit-button > span,.formkit-form[data-uid="f786e71c27"] .formkit-submit > span{display:block;-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out;padding:12px 24px;}.formkit-form[data-uid="f786e71c27"] .formkit-input{background:#ffffff;font-size:15px;padding:12px;border:1px solid #e3e3e3;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;line-height:1.4;margin:0;-webkit-transition:border-color ease-out 300ms;transition:border-color ease-out 300ms;}.formkit-form[data-uid="f786e71c27"] .formkit-input:focus{outline:none;border-color:#1677be;-webkit-transition:border-color ease 300ms;transition:border-color ease 300ms;}.formkit-form[data-uid="f786e71c27"] .formkit-input::-webkit-input-placeholder{color:inherit;opacity:0.8;}.formkit-form[data-uid="f786e71c27"] .formkit-input::-moz-placeholder{color:inherit;opacity:0.8;}.formkit-form[data-uid="f786e71c27"] .formkit-input:-ms-input-placeholder{color:inherit;opacity:0.8;}.formkit-form[data-uid="f786e71c27"] .formkit-input::placeholder{color:inherit;opacity:0.8;}.formkit-form[data-uid="f786e71c27"] [data-group="dropdown"]{position:relative;display:inline-block;width:100%;}.formkit-form[data-uid="f786e71c27"] [data-group="dropdown"]::before{content:"";top:calc(50% - 2.5px);right:10px;position:absolute;pointer-events:none;border-color:#4f4f4f transparent transparent transparent;border-style:solid;border-width:6px 6px 0 6px;height:0;width:0;z-index:999;}.formkit-form[data-uid="f786e71c27"] [data-group="dropdown"] select{height:auto;width:100%;cursor:pointer;color:#333333;line-height:1.4;margin-bottom:0;padding:0 6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:15px;padding:12px;padding-right:25px;border:1px solid #e3e3e3;background:#ffffff;}.formkit-form[data-uid="f786e71c27"] [data-group="dropdown"] select:focus{outline:none;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"]{text-align:left;margin:0;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"]{margin-bottom:10px;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"] *{cursor:pointer;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"]:last-of-type{margin-bottom:0;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]{display:none;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"] + label::after{content:none;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]:checked + label::after{border-color:#ffffff;content:"";}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]:checked + label::before{background:#10bf7a;border-color:#10bf7a;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"] label{position:relative;display:inline-block;padding-left:28px;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"] label::before,.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"] label::after{position:absolute;content:"";display:inline-block;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"] label::before{height:16px;width:16px;border:1px solid #e3e3e3;background:#ffffff;left:0px;top:3px;}.formkit-form[data-uid="f786e71c27"] [data-group="checkboxes"] [data-group="checkbox"] label::after{height:4px;width:8px;border-left:2px solid #4d4d4d;border-bottom:2px solid #4d4d4d;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);left:4px;top:8px;}.formkit-form[data-uid="f786e71c27"] .formkit-alert{background:#f9fafb;border:1px solid #e3e3e3;border-radius:5px;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;list-style:none;margin:25px auto;padding:12px;text-align:center;width:100%;}.formkit-form[data-uid="f786e71c27"] .formkit-alert:empty{display:none;}.formkit-form[data-uid="f786e71c27"] .formkit-alert-success{background:#d3fbeb;border-color:#10bf7a;color:#0c905c;}.formkit-form[data-uid="f786e71c27"] .formkit-alert-error{background:#fde8e2;border-color:#f2643b;color:#ea4110;}.formkit-form[data-uid="f786e71c27"] .formkit-spinner{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:0px;width:0px;margin:0 auto;position:absolute;top:0;left:0;right:0;width:0px;overflow:hidden;text-align:center;-webkit-transition:all 300ms ease-in-out;transition:all 300ms ease-in-out;}.formkit-form[data-uid="f786e71c27"] .formkit-spinner > div{margin:auto;width:12px;height:12px;background-color:#fff;opacity:0.3;border-radius:100%;display:inline-block;-webkit-animation:formkit-bouncedelay-formkit-form-data-uid-f786e71c27- 1.4s infinite ease-in-out both;animation:formkit-bouncedelay-formkit-form-data-uid-f786e71c27- 1.4s infinite ease-in-out both;}.formkit-form[data-uid="f786e71c27"] .formkit-spinner > div:nth-child(1){-webkit-animation-delay:-0.32s;animation-delay:-0.32s;}.formkit-form[data-uid="f786e71c27"] .formkit-spinner > div:nth-child(2){-webkit-animation-delay:-0.16s;animation-delay:-0.16s;}.formkit-form[data-uid="f786e71c27"] .formkit-submit[data-active] .formkit-spinner{opacity:1;height:100%;width:50px;}.formkit-form[data-uid="f786e71c27"] .formkit-submit[data-active] .formkit-spinner ~ span{opacity:0;}.formkit-form[data-uid="f786e71c27"] .formkit-powered-by[data-active="false"]{opacity:0.35;}@-webkit-keyframes formkit-bouncedelay-formkit-form-data-uid-f786e71c27-{0%,80%,100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}40%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}@keyframes formkit-bouncedelay-formkit-form-data-uid-f786e71c27-{0%,80%,100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}40%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}.formkit-form[data-uid="f786e71c27"] blockquote{padding:10px 20px;margin:0 0 20px;border-left:5px solid #e1e1e1;} .formkit-form[data-uid="f786e71c27"]{border:1px solid #e3e3e3;max-width:700px;position:relative;overflow:hidden;margin:0 auto;}.formkit-form[data-uid="f786e71c27"] .formkit-background{width:100%;height:100%;position:absolute;top:0;left:0;background-size:cover;background-position:center;opacity:0.3;z-index:1;}.formkit-form[data-uid="f786e71c27"] [data-style="minimal"]{padding:20px;width:100%;z-index:2;position:relative;}.formkit-form[data-uid="f786e71c27"] .formkit-header{margin:0 0 27px 0;text-align:center;}.formkit-form[data-uid="f786e71c27"] .formkit-subheader{margin:18px 0;text-align:center;}.formkit-form[data-uid="f786e71c27"] .formkit-guarantee{font-size:13px;margin:10px 0 15px 0;text-align:center;}.formkit-form[data-uid="f786e71c27"] .formkit-guarantee > p{margin:0;}.formkit-form[data-uid="f786e71c27"] .formkit-powered-by{color:#7d7d7d;display:block;font-size:12px;margin:10px 0 0 0;text-align:center;}.formkit-form[data-uid="f786e71c27"] .formkit-fields{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:25px auto 0 auto;}.formkit-form[data-uid="f786e71c27"] .formkit-field{min-width:220px;}.formkit-form[data-uid="f786e71c27"] .formkit-field,.formkit-form[data-uid="f786e71c27"] .formkit-submit{margin:0 0 15px 0;-webkit-flex:1 0 100%;-ms-flex:1 0 100%;flex:1 0 100%;}.formkit-form[data-uid="f786e71c27"][min-width~="600"] [data-style="minimal"]{}.formkit-form[data-uid="f786e71c27"][min-width~="600"] .formkit-fields[data-stacked="false"]{margin-left:-5px;margin-right:-5px;}.formkit-form[data-uid="f786e71c27"][min-width~="600"] .formkit-fields[data-stacked="false"] .formkit-field,.formkit-form[data-uid="f786e71c27"][min-width~="600"] .formkit-fields[data-stacked="false"] .formkit-submit{margin:0 5px 15px 5px;}.formkit-form[data-uid="f786e71c27"][min-width~="600"] .formkit-fields[data-stacked="false"] .formkit-field{-webkit-flex:100 1 auto;-ms-flex:100 1 auto;flex:100 1 auto;}.formkit-form[data-uid="f786e71c27"][min-width~="600"] .formkit-fields[data-stacked="false"] .formkit-submit{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;} </style></form>


			</div>

			<div class="tags">
				
					
						<ul class="flat">
							
							<li><a href="/tags/status">status</a></li>
							
							<li><a href="/tags/codes">codes</a></li>
							
							<li><a href="/tags/http">http</a></li>
							
						</ul>
					
				
			</div><div id="disqus_thread"></div>
<script type="text/javascript">
	(function () {
		
		
		if (window.location.hostname == "localhost")
			return;

		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		var disqus_shortname = 'eftimov';
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the </a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> Copyright © 2014 - 2020 Ilija Eftimov |  <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-11264459-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script>feather.replace()</script>
</body>
</html>
